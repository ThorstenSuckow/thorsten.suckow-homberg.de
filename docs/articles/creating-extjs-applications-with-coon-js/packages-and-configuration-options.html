<!doctype html>
<html lang="en" dir="ltr" class="docs-wrapper plugin-docs plugin-id-default docs-version-current docs-doc-page docs-doc-id-articles/creating-extjs-applications-with-coon-js/packages-and-configuration-options" data-has-hydrated="false">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v3.7.0">
<title data-rh="true">Part 2: Packages and Configuration Options | thorsten.suckow-homberg.de</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:image" content="https://thorsten.suckow-homberg.de/img/docusaurus-social-card.jpg"><meta data-rh="true" name="twitter:image" content="https://thorsten.suckow-homberg.de/img/docusaurus-social-card.jpg"><meta data-rh="true" property="og:url" content="https://thorsten.suckow-homberg.de/docs/articles/creating-extjs-applications-with-coon-js/packages-and-configuration-options"><meta data-rh="true" property="og:locale" content="en"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="Part 2: Packages and Configuration Options | thorsten.suckow-homberg.de"><meta data-rh="true" name="description" content="Managing and loading packages"><meta data-rh="true" property="og:description" content="Managing and loading packages"><link data-rh="true" rel="icon" href="/img/favicon.ico"><link data-rh="true" rel="canonical" href="https://thorsten.suckow-homberg.de/docs/articles/creating-extjs-applications-with-coon-js/packages-and-configuration-options"><link data-rh="true" rel="alternate" href="https://thorsten.suckow-homberg.de/docs/articles/creating-extjs-applications-with-coon-js/packages-and-configuration-options" hreflang="en"><link data-rh="true" rel="alternate" href="https://thorsten.suckow-homberg.de/docs/articles/creating-extjs-applications-with-coon-js/packages-and-configuration-options" hreflang="x-default"><link data-rh="true" rel="preconnect" href="https://YP7SUYRV93-dsn.algolia.net" crossorigin="anonymous"><link rel="alternate" type="application/rss+xml" href="/blog/rss.xml" title="thorsten.suckow-homberg.de RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/blog/atom.xml" title="thorsten.suckow-homberg.de Atom Feed">




<link rel="search" type="application/opensearchdescription+xml" title="thorsten.suckow-homberg.de" href="/opensearch.xml">
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.13.24/dist/katex.min.css" integrity="sha384-odtC+0UGzzFL/6PNoE8rX/SPcQDXBJ+uRepguP4QkPCm2LBxH3FA3y+fKSiJ+AmM" crossorigin="anonymous"><link rel="stylesheet" href="/assets/css/styles.60e6fee0.css">
<script src="/assets/js/runtime~main.a70475a2.js" defer="defer"></script>
<script src="/assets/js/main.190758e7.js" defer="defer"></script>
</head>
<body class="navigation-with-keyboard">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){try{return new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}}()||function(){try{return window.localStorage.getItem("theme")}catch(t){}}();t(null!==e?e:"dark")}(),function(){try{const n=new URLSearchParams(window.location.search).entries();for(var[t,e]of n)if(t.startsWith("docusaurus-data-")){var a=t.replace("docusaurus-data-","data-");document.documentElement.setAttribute(a,e)}}catch(t){}}()</script><div id="__docusaurus"><div role="region" aria-label="Skip to main content"><a class="skipToContent_fXgn" href="#__docusaurus_skipToContent_fallback">Skip to main content</a></div><nav aria-label="Main" class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Toggle navigation bar" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/"><div class="navbar__logo"><img src="/img/home.svg" alt="Home" class="themedComponent_mlkZ themedComponent--light_NVdE"><img src="/img/home.svg" alt="Home" class="themedComponent_mlkZ themedComponent--dark_xIcU"></div></a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/docs/articles">Articles</a><a class="navbar__item navbar__link" href="/docs/wiki">Wiki</a><a class="navbar__item navbar__link" href="/projects">Projects</a><a class="navbar__item navbar__link" href="/blog">Blog</a></div><div class="navbar__items navbar__items--right"><a class="navbar__item navbar__link" href="/about">About</a><a href="https://github.com/thorstensuckow" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link header-github-link"></a><div class="toggle_vylO colorModeToggle_DEke"><button class="clean-btn toggleButton_gllP toggleButtonDisabled_aARS" type="button" disabled="" title="Switch between dark and light mode (currently dark mode)" aria-label="Switch between dark and light mode (currently dark mode)" aria-live="polite" aria-pressed="true"><svg viewBox="0 0 24 24" width="24" height="24" class="lightToggleIcon_pyhR"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" class="darkToggleIcon_wfgR"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg></button></div><div class="navbarSearchContainer_Bca1"><button type="button" class="DocSearch DocSearch-Button" aria-label="Search (Command+K)"><span class="DocSearch-Button-Container"><svg width="20" height="20" class="DocSearch-Search-Icon" viewBox="0 0 20 20" aria-hidden="true"><path d="M14.386 14.386l4.0877 4.0877-4.0877-4.0877c-2.9418 2.9419-7.7115 2.9419-10.6533 0-2.9419-2.9418-2.9419-7.7115 0-10.6533 2.9418-2.9419 7.7115-2.9419 10.6533 0 2.9419 2.9418 2.9419 7.7115 0 10.6533z" stroke="currentColor" fill="none" fill-rule="evenodd" stroke-linecap="round" stroke-linejoin="round"></path></svg><span class="DocSearch-Button-Placeholder">Search</span></span><span class="DocSearch-Button-Keys"></span></button></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="__docusaurus_skipToContent_fallback" class="main-wrapper mainWrapper_z2l0"><div class="docsWrapper_hBAB"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docRoot_UBD9"><aside class="theme-doc-sidebar-container docSidebarContainer_YfHR"><div class="sidebarViewport_aRkj"><div class="sidebar_njMd"><nav aria-label="Docs sidebar" class="menu thin-scrollbar menu_SIkG"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--active" href="/docs/articles">Articles</a><button aria-label="Collapse sidebar category &#x27;Articles&#x27;" aria-expanded="true" type="button" class="clean-btn menu__caret"></button></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/articles/software-craftsmanship">On Software Craftsmanship</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" tabindex="0" href="/docs/articles/computer-graphics">Computer Graphics</a><button aria-label="Collapse sidebar category &#x27;Computer Graphics&#x27;" aria-expanded="true" type="button" class="clean-btn menu__caret"></button></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/articles/computer-graphics/the-geometry-of-the-dot-product">The Geometry of the Dot Product</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/articles/computer-graphics/rotations-as-a-special-case-of-vector-transformations">Rotations as a Special Case of Vector Transformations</a></li></ul></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/articles/modeling-biological-neurons">[DE] Modeling Biological Neurons: Foundations of Neural Networks in Healthcare</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/articles/contracted-events-for-micro-frontend-communication">Approaching Contracted Events for Micro Frontend Communication</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/articles/getter-setter-automation-with-php-attributes">Accessor Automation with PHP Attributes</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" tabindex="0" href="/docs/articles/agp-the-payroll-system/introduction">The Payroll System</a><button aria-label="Collapse sidebar category &#x27;The Payroll System&#x27;" aria-expanded="true" type="button" class="clean-btn menu__caret"></button></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/articles/agp-the-payroll-system/Use-Case-1-Adding-a-new-employee">Use Case 1 - Adding a new employee</a></li></ul></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/articles/dependency-injection-in-javascript">Dependency Injection in JavaScript</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/articles/sencha-extjs-beyond-es5">Ext JS - Beyond ES5</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/articles/using-php-enums-as-method-calls">Using PHP enums as method calls</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/articles/downloadable-assets-with-github-actions">Downloadable Assets with GitHub Actions</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--active" tabindex="0" href="/docs/articles/creating-extjs-applications-with-coon-js">Creating ExtJS applications with coon.js</a><button aria-label="Collapse sidebar category &#x27;Creating ExtJS applications with coon.js&#x27;" aria-expanded="true" type="button" class="clean-btn menu__caret"></button></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/articles/creating-extjs-applications-with-coon-js/introduction">Part 1: Introduction</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/docs/articles/creating-extjs-applications-with-coon-js/packages-and-configuration-options">Part 2: Packages and Configuration Options</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/articles/creating-extjs-applications-with-coon-js/configuration-details-and-plugins">Part 3: Configuration Details and defining Plugins</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/articles/creating-extjs-applications-with-coon-js/registering-services-and-using-the-service-locator">Part 4: Registering services and using the Service Locator</a></li></ul></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/articles/javascript-promises-return-values-and-error-handlers">JavaScript Promises — Return Values and Error Handlers</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/articles/a-fluent-interface-for-javascript-promises">Fluent Interface for JavaScript Promises</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/articles/php-default-time-zones-and-dst">PHP, default time zones and DST</a></li></ul></li></ul></nav></div></div></aside><main class="docMainContainer_TBSr"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_VOVn"><div class="docItemContainer_Djhp"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Z_bl" aria-label="Breadcrumbs"><ul class="breadcrumbs" itemscope="" itemtype="https://schema.org/BreadcrumbList"><li class="breadcrumbs__item"><a aria-label="Home page" class="breadcrumbs__link" href="/"><svg viewBox="0 0 24 24" class="breadcrumbHomeIcon_YNFT"><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill="currentColor"></path></svg></a></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item"><a class="breadcrumbs__link" itemprop="item" href="/docs/articles"><span itemprop="name">Articles</span></a><meta itemprop="position" content="1"></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item"><a class="breadcrumbs__link" itemprop="item" href="/docs/articles/creating-extjs-applications-with-coon-js"><span itemprop="name">Creating ExtJS applications with coon.js</span></a><meta itemprop="position" content="2"></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link" itemprop="name">Part 2: Packages and Configuration Options</span><meta itemprop="position" content="3"></li></ul></nav><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type="button" class="clean-btn tocCollapsibleButton_TO0P">On this page</button></div><div class="theme-doc-markdown markdown"><header><h1>Part 2: Packages and Configuration Options</h1></header><div class="theme-admonition theme-admonition-info admonition_xJq3 alert alert--info"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"></path></svg></span>info</div><div class="admonitionContent_BuS1"><div>This article was originally published in <!-- -->April 2022<!-- --> at <a target="_blank" href="https://medium.com/@thorstensuckow/creating-extjs-applications-with-coon-js-part-2-packages-and-configuration-options-ee23e96d0b13">medium.com</a>. Some formatting might have get lost during the migration to this site: If you think you spotted an issue caused by malformed formatting, feel free to open a <a href="https://github.com/ThorstenSuckow/thorsten.suckow-homberg.de">Pull Request</a> or <a href="mailto:thorsten@suckow-homberg.de">send me an Email</a>.</div></div></div>
<p>In the <a href="/docs/articles/creating-extjs-applications-with-coon-js/introduction">previous part</a> of this article series I gave a brief introduction to the <a href="https://github.com/coon-js" target="_blank" rel="noopener noreferrer">coon.js</a> framework — a “Toolset for rapid <a href="http://sencha.com" target="_blank" rel="noopener noreferrer">Sencha ExtJS</a> application building”.</p>
<p>Now it’s time to present the general idea behind the framework and shed some light on the features it provides. In this <strong>Part 2</strong>, we’ll take a look at package management- and with coon.js, this means dynamic package loading and providing configuration options for packages.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="hardwiring-is-so-2001">Hardwiring is so 2001<a href="#hardwiring-is-so-2001" class="hash-link" aria-label="Direct link to Hardwiring is so 2001" title="Direct link to Hardwiring is so 2001">​</a></h2>
<p>Resolving application dependencies became more convenient with the introduction of package managers, such as <a href="https://getcomposer.org" target="_blank" rel="noopener noreferrer">Composer </a>(PHP) and <a href="https://npmjs.org" target="_blank" rel="noopener noreferrer">NPM</a> (mainly JavaScript).</p>
<p>If you remember the early days of Sencha ExtJS, you might think of the “package manager” that was introduced with <a href="https://www.sencha.com/blog/understanding-sencha-cmd-packages/" target="_blank" rel="noopener noreferrer">ExtJS 4 .2 and Sencha CMD 3.1</a>— which was never really successful when you look at it from the external- dependency-managagement-and-centralized-repository-for-3rd-party-code-point of view (<em>phew!</em>). Sencha ExtJS Packages have always been a tool for organizing your code into smaller, <em>more</em> deliverable, reusable chunks and might have been a good way to maintain company code for various projects, but it was never flexible enough for providing dependency management of 3rd party code we have been looking for many, many years, and where Sencha obviously missed to jump the bandwagon once the time was right.</p>
<blockquote>
<p><em>Sencha CMD packages were never flexible enough for providing real dependency management with Sencha projects.</em></p>
</blockquote>
<p>JavaScript development got a lot more easy with NPM. However, Sencha is still locked deep in the basement together with Java and Ant, and getting things to work with Sencha CMD (on which ExtJS obviously still depends on) rather than Babel (for transpiling) and NPM can be quiet troublesome. The <a href="https://github.com/sencha/package-loader" target="_blank" rel="noopener noreferrer">Sencha PackageLoader</a> makes it all more bearable, but if you’re looking for a solution for dynamic package management with Sencha ExtJS, you have to add a few workarounds and be patient when wrapping your head around error messages that basically give no hint about what really went wrong when sencha app build fails with cryptic console output.</p>
<p><em>A brief introduction to Sencha Ext JS and NPM can be found here:</em></p>
<!-- -->
<div style="display:flex;justify-content:center"><div style="text-align:center;margin:20px"><div class=""><img alt="{title}" src="/assets/images/presentation-8316c049d5df485abd56b3336d7b2b21.png"></div><div style="text-align:center"><sup><b>Figure 1</b> <span><a href="https://www.brighttalk.com/webcast/11505/536082" target="_blank">SenchaCon 2022: Sencha Ext JS & Modern Tooling</a></span></sup></div></div></div>
<div style="display:flex;justify-content:center"><div style="text-align:center;margin:20px"><div class=""><img alt="{title}" src="/assets/images/youtubenpm-458b7240cca42c8043d22cc0668c683e.png"></div><div style="text-align:center"><sup><b>Figure 2</b> <span>Alternatively, the eyeworkers Youtube-Channel has a video with german audio dealing with the topic: <a href="https://www.youtube.com/watch?v=YpfzV_F2yZs" target="_blank">Ext JS und NPM</a></span></sup></div></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="sencha-applications-and-dynamic-packages">Sencha applications and dynamic packages<a href="#sencha-applications-and-dynamic-packages" class="hash-link" aria-label="Direct link to Sencha applications and dynamic packages" title="Direct link to Sencha applications and dynamic packages">​</a></h3>
<p>The <a href="https://docs.sencha.com/cmd/7.5.0/guides/dynamic_package_loading.html" target="_blank" rel="noopener noreferrer">Sencha Package Loader</a> allows for dynamic package loading (hence the name), although these packages have to be linked against the application: <strong>exposing information about the requirements of an application comes with the expense of more configuration</strong>. Not only has the <em>app.json</em> to know what packages might(!) be used with your software — which contradicts the use case of over-the-air drop-ins of additional functionality—you also have to adjust your build process with specific flags so that the packages get properly build: sencha app build production --uses</p>
<p>However, combining the Package Loader with NPM and some customizing leverages ExtJS application building. Here comes coon.js into play.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="cooncoreappapplication">coon.core.app.Application<a href="#cooncoreappapplication" class="hash-link" aria-label="Direct link to coon.core.app.Application" title="Direct link to coon.core.app.Application">​</a></h3>
<p>To reduce bloat and make it possible to dynamically opt for <em>eventually</em> used packages, I wrote a specific of Ext.app.Application that is capable to read out package configuration during the startup of an application, making it easy to hook into the startup process of an app and decide what kind of packages have to be registered with the software, and — additionally — load package information from external files, providing runtime contexts to make sure various environments and their respective configurations can be considered.</p>
<p>This all might sound overwhelming at first, but it follows a very straightforward scheme: Read out information about registered packages, decide whether they should be loaded and apply their configuration from an (external) resource.</p>
<p>The payload for using this approach is that the developer needs to adopt a rethinking of how to set up an ExtJS app: With coon.js, it now largely consists of — often context-agnostic and self-contained — packages (you can also call them <em>modules</em>); except for core-functionality and themes, of course: Those are still hardwired to the application.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="configuration">Configuration<a href="#configuration" class="hash-link" aria-label="Direct link to Configuration" title="Direct link to Configuration">​</a></h2>
<p>Lets start on the very top and have a look at the configuration available with <em>coon.js</em>. Notable, the app.json allows for an additional configuration that will be considered for the configuration of underlying packages — the <strong>coon-js</strong>-configuration:</p>
<div class="language-json codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-json codeBlock_bY9V thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">    ...</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token property">&quot;name&quot;</span><span class="token operator">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(255, 121, 198)">&quot;conjoon&quot;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token property">&quot;production&quot;</span><span class="token operator">:</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        </span><span class="token property">&quot;coon-js&quot;</span><span class="token operator">:</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">            </span><span class="token property">&quot;env&quot;</span><span class="token operator">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(255, 121, 198)">&quot;prod&quot;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">            </span><span class="token property">&quot;resourcePath&quot;</span><span class="token operator">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(255, 121, 198)">&quot;coon-js&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        </span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token property">&quot;development&quot;</span><span class="token operator">:</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        </span><span class="token property">&quot;coon-js&quot;</span><span class="token operator">:</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">            </span><span class="token property">&quot;env&quot;</span><span class="token operator">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(255, 121, 198)">&quot;dev&quot;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">            </span><span class="token property">&quot;resourcePath&quot;</span><span class="token operator">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(255, 121, 198)">&quot;coon-js&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        </span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    ...</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>In both the production- and the development-section of the <em>app.json</em>, we have added a new property named coon-js, which allows for specifying coon.js-relevant application-configuration; we can read this later out of the Ext.manifest-object available during runtime of our Ext JS-application.</p>
<p><img decoding="async" loading="lazy" src="https://cdn-images-1.medium.com/max/2000/1*ukZTzkgezzQ6hxG3ti0LTg.png" alt="The Ext.manifest object provides the configuration added to the app.json-file." class="img_ev3q"></p>
<p>So, what will this be later used for? coon.js will look up the environment the application is built for (we are utilizing <em>development</em>/<em>production</em> build options of ExtJS here) and consider further configuration-loading given the env-value, making it possible to load configuration files specific for the <em>development</em>- or <em>production</em>-environment. For example, the development-environment can hold additional configuration options for <a href="https://docs-devel.sencha.com/extjs/7.5.1/classic/Ext.ux.ajax.SimManager.html" target="_blank" rel="noopener noreferrer">Simlets</a> used with the dev-build (mainly for mocking a backend API), while the production-configuration holds REST-endpoints and the like for — well, exposing environmental information of the application in production mode. More use-cases at the end of this article.</p>
<p>The resourcePath denotes the name of the folder in which <em>coon.js</em> should look up configuration files — this is the folder that should be made available in the resources-directory found in the base installation of an ExtJS-application: Further Sencha specific configuration options for this folder can be found in the resources-section of the <em>app.json</em>.</p>
<div style="display:flex;justify-content:center"><div style="text-align:center;margin:20px"><div class=""><img alt="{title}" src="https://cdn-images-1.medium.com/max/2000/1*sxPRDsKLuEI4SyF0yIca7w.png"></div><div style="text-align:center"><sup><b>Figure 3</b> <span>The directory layout of an ExtJS application. The resources-folder contains the coon-js-folder, providing an application(!) configuration file explicitly for development (conjoon.**dev**.conf.json) and conjoon.conf.json for any other environment (e.g. production).</span></sup></div></div></div>
<p>But what files are considered as configuration files? Somehow the application must now which files to load, and this is realized using a specific naming pattern coon.js will look up.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="application-configuration-files">Application configuration files<a href="#application-configuration-files" class="hash-link" aria-label="Direct link to Application configuration files" title="Direct link to Application configuration files">​</a></h3>
<p>First off, you have a <strong>global</strong>, <strong>application specific</strong> configuration file. This file must be named after the application coon.js is configured for, followed by a postfix that denotes the environment for which it was created, and the usual <em>.json</em> file-ending so that code-editors and the like know how to parse and syntax-highlight its contents. The pattern is:</p>
<p>[application_name].[environment].<em>conf.json</em></p>
<p>In the above example for the <em>app.json</em>, we have specified that the shorthand for the production-environment is <em><strong>prod</strong></em>, while the shorthand for the development-environment is <em><strong>dev</strong></em>. The name of the application is <a href="https://conjoon.org" target="_blank" rel="noopener noreferrer">conjoon</a>. The configuration files must therefore be saved under any of the following names in order for coon.js to recognize them:</p>
<ul>
<li>
<p><strong>&quot;env&quot;: “dev&quot;conjoon</strong>.<strong>dev</strong>.conf.json - configuration loaded for development builds</p>
</li>
<li>
<p><strong>&quot;env”: “prod&quot; conjoon</strong>.<strong>prod</strong>.conf.json — configuration loaded for production builds (note: this naming schema is currently in discussion, see link below)</p>
</li>
<li>
<p><strong>conjoon</strong>.conf.json - configuration loaded if no environment specific configuration file was found</p>
</li>
</ul>
<p><a href="https://github.com/coon-js/extjs-lib-core/issues/55" target="_blank" rel="noopener noreferrer">refactor: configuration files for prod must not use &quot;prod&quot; as infix · Issue #55 ·…</a></p>
<p>We will not go into the details about possible configuration options considered by coon.js for now — the 3rd part of this article series will take care of this — but a basic template with the most important sections of an application configuration file looks like this:</p>
<div class="language-json codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-json codeBlock_bY9V thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        </span><span class="token punctuation" style="color:rgb(248, 248, 242)">[</span><span class="token plain">application_name</span><span class="token punctuation" style="color:rgb(248, 248, 242)">]</span><span class="token plain"> </span><span class="token operator">:</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">            </span><span class="token property">&quot;application&quot;</span><span class="token operator">:</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">            </span><span class="token property">&quot;plugins&quot;</span><span class="token operator">:</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">[</span><span class="token punctuation" style="color:rgb(248, 248, 242)">]</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">            </span><span class="token property">&quot;packages&quot;</span><span class="token operator">:</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        </span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>All configuration-options <strong>specified in the application-section</strong> will be generally made available during runtime and can later on be queried via coon.core.ConfigManager.get([application_name]) (unaware packages can query [application_name] using the coon.core.Environment-class, if needed: coon.core.Environment.getManifest(&quot;name&quot;)).</p>
<p>Of course, other configurations sections are available to the coon.core.ConfigManager: they are queryable “domains”. For example, dynamic packages and their configuration (if specified) are always accessible using coon.core.ConfigManager.get([package_name]).</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="package-configuration-files">Package configuration files<a href="#package-configuration-files" class="hash-link" aria-label="Direct link to Package configuration files" title="Direct link to Package configuration files">​</a></h3>
<p>The whole idea behind coon.js is to provide a system where applications load external and customizable packages on demand — so it would be a bad idea to not provide configuration options for these packages itself.</p>
<p>Similiar to the <em>app.json</em>, information about the package used by a coon.js-driven application must be placed in the <em>package.json</em> of the owning package. This has to be done using the sencha-section in the file, so the configuration is available later via Ext.manifest and does not collide with any NPM configuration:</p>
<div class="language-json codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-json codeBlock_bY9V thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        </span><span class="token comment" style="color:rgb(98, 114, 164)">// ... this is NPM-land</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        </span><span class="token property">&quot;sencha&quot;</span><span class="token operator">:</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">           </span><span class="token comment" style="color:rgb(98, 114, 164)">// ... and this is Sencha-country. Most of this will</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">           </span><span class="token comment" style="color:rgb(98, 114, 164)">// end up in Ext.manifest</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        </span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>Again, we have to specify a coon-js-section in the <em>package.json</em> itself that holds various information about the package and how it should be treated by the owning application, such as</p>
<ul>
<li>
<p>should the package be auto-loaded during application startup?</p>
</li>
<li>
<p>should the package’s PackageController (if available; it’s a specific of Ext.app.Controller) be registered as an application controller?</p>
</li>
<li>
<p>does the Package define configuration, and where can this information be found?</p>
</li>
</ul>
<p>Here’s an example of the <em>package.json</em> from <a href="https://github.com/conjoon/extjs-app-webmail" target="_blank" rel="noopener noreferrer">https://github.com/conjoon/extjs-app-webmail</a>, the email client for <a href="https://conjoon.org" target="_blank" rel="noopener noreferrer">conjoon</a>:</p>
<div class="language-json codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-json codeBlock_bY9V thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        </span><span class="token property">&quot;name&quot;</span><span class="token operator">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(255, 121, 198)">&quot;@conjoon/extjs-app-webmail&quot;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        </span><span class="token property">&quot;sencha&quot;</span><span class="token operator">:</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">            </span><span class="token property">&quot;name&quot;</span><span class="token operator">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(255, 121, 198)">&quot;extjs-app-webmail&quot;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">            </span><span class="token property">&quot;coon-js&quot;</span><span class="token operator">:</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                </span><span class="token property">&quot;package&quot;</span><span class="token operator">:</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                    </span><span class="token property">&quot;autoLoad&quot;</span><span class="token operator">:</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                        </span><span class="token property">&quot;registerController&quot;</span><span class="token operator">:</span><span class="token plain"> </span><span class="token boolean">true</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                    </span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                    </span><span class="token property">&quot;config&quot;</span><span class="token operator">:</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                        </span><span class="token comment" style="color:rgb(98, 114, 164)">// ... here be package relevant config</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                    </span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                </span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">            </span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">            </span><span class="token property">&quot;namespace&quot;</span><span class="token operator">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(255, 121, 198)">&quot;conjoon.cn_mail&quot;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">            </span><span class="token property">&quot;type&quot;</span><span class="token operator">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(255, 121, 198)">&quot;code&quot;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    ...</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>The 3rd part of this article series will focus on key-properties of the configuration, for now let’s have a quick look at a few properties presented with the example: autoLoad tells whether this package should be loaded upon the startup of the application and can be further configured — in this case along with registering the package’s PackageController — and the config-section provides all the necessary configuration for the package itself, queryable during runtime.</p>
<p>While it is totally valid to provide all the configuration information in the <em>package.json</em> itself, maintaining often-changing configuration can be quiet a hassle using this file: You have also the option to specify an individual file representing the package’s configuration — convenient in case you have to provide lots of configuration information.</p>
<p>It is also possible to omit the configuration here or in a separate file and move all the configuration details to the **application configuration file **— making it more convenient to <strong>edit multiple package configurations at once</strong> without having to manage file changes ( git commit package.json -m “feat: add config option for project X”) throughout various separate projects (if your package is used across multiple projects, that is). Remember the application configuration file template from the previous section of this article? Let’s tune the packages-section:</p>
<div class="language-json codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-json codeBlock_bY9V thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        </span><span class="token punctuation" style="color:rgb(248, 248, 242)">[</span><span class="token plain">application_name</span><span class="token punctuation" style="color:rgb(248, 248, 242)">]</span><span class="token plain"> </span><span class="token operator">:</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">            </span><span class="token property">&quot;plugins&quot;</span><span class="token operator">:</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">[</span><span class="token punctuation" style="color:rgb(248, 248, 242)">]</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">            </span><span class="token property">&quot;application&quot;</span><span class="token operator">:</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">            </span><span class="token property">&quot;packages&quot;</span><span class="token operator">:</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                </span><span class="token property">&quot;extjs-app-webmail&quot;</span><span class="token operator">:</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                    </span><span class="token property">&quot;autoLoad&quot;</span><span class="token operator">:</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                        </span><span class="token property">&quot;registerController&quot;</span><span class="token operator">:</span><span class="token plain"> </span><span class="token boolean">true</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                    </span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                    </span><span class="token property">&quot;config&quot;</span><span class="token operator">:</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                       </span><span class="token comment" style="color:rgb(98, 114, 164)">// ... add package relevant config HERE</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                    </span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                </span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">            </span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        </span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="loading-packages">Loading Packages<a href="#loading-packages" class="hash-link" aria-label="Direct link to Loading Packages" title="Direct link to Loading Packages">​</a></h2>
<p>Given what we know about the configuration options, let’s have a look at how coon.js decides whether a package should be loaded dynamically.</p>
<p>First and foremost, we have to take care of two thing: Tagging the package as a coon.js-package and inform our app about the package-requirement in the uses-section in our <em>app.json</em>. While the latter is a necessary requirement for the ExtJS internal Package Loader (you can read more about the internals <a href="https://mitchellsimoens.com/blog/2017/04/12/package-loading" target="_blank" rel="noopener noreferrer">here</a>), tagging the package as a coon.js package itself is required so that the package can be identified and treated as a package containing further, yet to be loaded, configuration.</p>
<!-- -->
<div style="display:flex;justify-content:center"><div style="text-align:center;margin:20px"><div class=""><img alt="{title}" src="/assets/images/bootup-acdf27434d565e8490d397a5ab21f94a.png"></div><div style="text-align:center"><sup><b>Figure 4</b> <span>Abstracted view on the workflow of loading packages and configurations during the startup of an application. The blue box is the hook defined by coon.js.</span></sup></div></div></div>
<p>The whole process simplified:</p>
<ol>
<li>
<p>Application boots and loads requirements</p>
</li>
<li>
<p>coon.js hooks into the process, looks up and parses available <em>package.json</em> from any package available to the application</p>
</li>
<li>
<p>if a package is tagged as a coon.js package (i.e. has a coon-js-section), configuration for this package will be looked up and parsed</p>
</li>
<li>
<p>if a PackageController should get registered, it is registered with the application</p>
</li>
<li>
<p>launch()</p>
</li>
</ol>
<p>In order for this to work, the developer has to extend from coon.core.app.Application which is a specific of Ext.app.Application — its onProfilesReady will then initialize the packages and their configuration and set up all the required controllers, additionally configure and ready up any plugins that should be used with the application.</p>
<div style="display:flex;justify-content:center"><div style="text-align:center;margin:20px"><div class=""><img alt="{title}" src="https://cdn-images-1.medium.com/max/2066/1*BUEhSb9qlqu11jsfmCzKiA.png"></div><div style="text-align:center"><sup><b>Figure 5</b> <span>Current (0.8.0, April 2022) implementation of onProfilesReady in extjs-lib-core’s coon.core.app.Application.</span></sup></div></div></div>
<p>As mentioned earlier, packages that might get used later on must be exposed using the uses — configuration property in the app.json — this is so the meta-data of the packages can be found in the Ext.manifest-object later on.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="simple-use-cases">Simple use cases<a href="#simple-use-cases" class="hash-link" aria-label="Direct link to Simple use cases" title="Direct link to Simple use cases">​</a></h2>
<p>Here are a few use cases that will give you an idea how to use dynamic package loading and configuration using coon.js.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="different-packages-for-dev-and-prod-environment">Different Packages for dev and prod environment<a href="#different-packages-for-dev-and-prod-environment" class="hash-link" aria-label="Direct link to Different Packages for dev and prod environment" title="Direct link to Different Packages for dev and prod environment">​</a></h3>
<p>If you are a famlliar with building frontend systems, you are often confronted with Schroedinger’s backend systems — backends required by the app, but no one knows if they exist yet (except perhaps for the developer responsible for its implementation)! Required for your work and for processing incoming and outgoing data, a predefined data-structure and some dummy data is fine for setting up POCs and tests, but once you need to test your frontend given more lively conditions, you need more “real” data.
For this purpose, the <a href="https://docs-devel.sencha.com/extjs/7.5.1/classic/Ext.ux.ajax.SimManager.html" target="_blank" rel="noopener noreferrer">Ext.ux.ajax.SimManager</a> exists, and I can not state often enough that your project should use it directly from the beginning — it has saved our company precious time in the past. A *SimManager *allows for managing mocked data endpoints of services for your software during development: You can wire all your requests as if they are actually existing in your code, but once requested, you’re not really connecting to a backend API over http: Instead, the SimManager takes care of re-routing requests to internal JavaScript classes which will then look up any data previously defined given a specific URL-pattern. (Using React, you can fall back to the wonderful <a href="https://miragejs.com/" target="_blank" rel="noopener noreferrer">Mirage</a> project ; you can catch up on the topic regarding mocking APIs reading this <a href="https://blog.bitsrc.io/mock-apis-different-techniques-for-react-and-angular-156284b757f4" target="_blank" rel="noopener noreferrer">article</a> by <a href="http://twitter.com/shashiparakramasingh" target="_blank" rel="noopener noreferrer">@shashiparakramasingh</a>e).</p>
<p>Using coon.js, we are able to simple attach and detach simlets in our development environment respective production environment. In our development section of the <em>app.json</em> we would define those packages representing simlets in the uses— array, while we optionally priovide url configuration in the associated configuration. A PackageController that is autoloaded into the application will then take care of configuring and registering the simlets with the ExtJS internal SimManager. Given the configuration options, the simlets can also exist in production builds — changing a value in the configuration file lets you easily enable or disable them individually.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="enablingdisabling-packages-for-different-builds">Enabling/disabling Packages for different Builds<a href="#enablingdisabling-packages-for-different-builds" class="hash-link" aria-label="Direct link to Enabling/disabling Packages for different Builds" title="Direct link to Enabling/disabling Packages for different Builds">​</a></h3>
<p>By simply providing declarative configurations using the configuration system, software project maintainers or administrators can easily enable or disable specific functionality for the application. Following <a href="/docs/wiki/softwaredesign.separationofconcerns" class="glosRef">SOC</a>, an application should not break if simply disabling a package representing a module for our software (if it does, we must have done something wrong during development and rethink our approach to coupling and decoupling).</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="hot-swapping-functionality">Hot-swapping functionality<a href="#hot-swapping-functionality" class="hash-link" aria-label="Direct link to Hot-swapping functionality" title="Direct link to Hot-swapping functionality">​</a></h3>
<p>Ever dreamt of adding/removing packages to a Sencha application without the need of rebuilding it completely? By utilizing the package-build commands of Sencha CMD we can build packages and drop them into a production build of a Sencha application built with coon.js — or remove any of them completely. This makes it possible for users to simply add and remove 3rd party packages on their own, without having to touch any existing code base (except for Ext.manifest, which must be aware of additional packages that are available for the software. But this is enough material for another article…)</p>
<p>The next part in this article series will provide a detailed look at the configuration options available with coon.js and how to use it with packages.</p></div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="row margin-top--sm theme-doc-footer-edit-meta-row"><div class="col"><a href="https://github.com/thorstensuckow/thorsten.suckow-homberg.de/tree/main/docs/articles/creating-extjs-applications-with-coon-js/2-packages-and-configuration-options.mdx" target="_blank" rel="noopener noreferrer" class="theme-edit-this-page"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_Z9Sw" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div><div class="col lastUpdated_JAkA"><span class="theme-last-updated">Last updated<!-- --> on <b><time datetime="2025-05-22T22:07:36.000Z" itemprop="dateModified">May 22, 2025</time></b> by <b>Thorsten Suckow-Homberg</b></span></div></div></footer></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages"><a class="pagination-nav__link pagination-nav__link--prev" href="/docs/articles/creating-extjs-applications-with-coon-js/introduction"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">Part 1: Introduction</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/docs/articles/creating-extjs-applications-with-coon-js/configuration-details-and-plugins"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">Part 3: Configuration Details and defining Plugins</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#hardwiring-is-so-2001" class="table-of-contents__link toc-highlight">Hardwiring is so 2001</a><ul><li><a href="#sencha-applications-and-dynamic-packages" class="table-of-contents__link toc-highlight">Sencha applications and dynamic packages</a></li><li><a href="#cooncoreappapplication" class="table-of-contents__link toc-highlight">coon.core.app.Application</a></li></ul></li><li><a href="#configuration" class="table-of-contents__link toc-highlight">Configuration</a><ul><li><a href="#application-configuration-files" class="table-of-contents__link toc-highlight">Application configuration files</a></li><li><a href="#package-configuration-files" class="table-of-contents__link toc-highlight">Package configuration files</a></li></ul></li><li><a href="#loading-packages" class="table-of-contents__link toc-highlight">Loading Packages</a></li><li><a href="#simple-use-cases" class="table-of-contents__link toc-highlight">Simple use cases</a><ul><li><a href="#different-packages-for-dev-and-prod-environment" class="table-of-contents__link toc-highlight">Different Packages for dev and prod environment</a></li><li><a href="#enablingdisabling-packages-for-different-builds" class="table-of-contents__link toc-highlight">Enabling/disabling Packages for different Builds</a></li><li><a href="#hot-swapping-functionality" class="table-of-contents__link toc-highlight">Hot-swapping functionality</a></li></ul></li></ul></div></div></div></div></main></div></div></div><footer class="footer footer--dark"><div class="container container-fluid"><div class="footer__bottom text--center"><div class="footer__copyright">copyright © 2025 <a href="/imprint">Thorsten Suckow-Homberg</a>. Except where otherwise noted, the content on this page is licensed under <a href="https://creativecommons.org/licenses/by/4.0/">CC BY 4.0</a></div></div></div></footer></div>
</body>
</html>