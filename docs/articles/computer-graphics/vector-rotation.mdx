---
title: "Rotations as a Special Case of Vector Transformations"
description: "Rotations as a Special Case of Vector Transformations, with Applications to Game World Modeling"
---

import {BackButton} from "../../../src/components/BackButton.js";
import {BibRef, GlosRef} from "../../../src/components/References";
import {Embed} from "../../../src/components/Embed";
import CodeBlock from '@theme/CodeBlock';

import sinecosine from "./img/vector-rotation/sinecosine.png";
import sinecosine_code from '!!raw-loader!./plots/vector-rotation/sinecosine.py?raw';

export const figures = {
    sinecosine: 1
};

# Rotation

Given an orthonomal basis in $\mathbb{R}^3$, we now derive a matrix for rotating a vector $\vec{v}$ around the $x$-axis.
Recall the rotation matrix $\boldsymbol{R}_x$

$$

\boldsymbol{R}_x = \begin{pmatrix}
 &1 &0 &0 \\
 &0 &\cos &-\sin \\
 &0 &\sin &\cos
\end{pmatrix}

$$

We can think of $x$ as the stationary axis the other two axis $y$ and $z$ rotate around.

Since the $x$-component of the rotated vector stays the same, the only components that change are $\vec{v}_y$ and $\vec{v}_z$.
This is clearly shown by the rotation matrix when multiplying it with an arbitrary vector:

$$

\begin{pmatrix}
&1 &0 &0 \\
&0 &\cos &-\sin \\
&0 &\sin &\cos
\end{pmatrix} \cdot \begin{pmatrix}\vec{v}_x \\ \vec{v}_y \\ \vec{v}_z\end{pmatrix} = \begin{pmatrix}\vec{v}_x \\ \vec{v}_y \cos - \vec{v}_z \cos \\ \vec{v}_y \sin + \vec{v}_z \cos\end{pmatrix}

$$


## Vector Rotation as a Linear Combination

In an orthonormal basis with the **standard basis vectors** $\vec{x} = \begin{pmatrix} 1\\0\end{pmatrix}$, $\vec{y} = \begin{pmatrix} 0\\1\end{pmatrix}$, any vector of unit length can be expressed as

$$
\vec{v} = \begin{pmatrix} \cos \theta \\ \sin \theta \end{pmatrix}
$$

This follows directly by $\cos \theta, \sin \theta$ when writing $\vec{v}$ as a linear combination of the two linear independent vectors $\vec{x}, \vec{y}$:

$$
\vec{v} = a \vec{x} + b \vec{y} 
$$

Substituting $a, b$ with $\cos \theta$, $\sin \theta$, we have:


$$
\vec{v} = \cos \theta \begin{pmatrix} 1 \\ 0 \end{pmatrix} + \sin \theta  \begin{pmatrix} 0 \\ 1 \end{pmatrix} = \begin{pmatrix} \cos \theta \\ \sin \theta \end{pmatrix}
$$

or, as a matrix multiplication

$$
\begin{pmatrix} 1 &0 \\ 0 &1 \end{pmatrix} \begin{pmatrix} cos \theta \\\sin \theta \end{pmatrix} = \vec{v}
$$

(Observe how $\vec{x}, \vec{y}$ represent the identity matrix $I_{2}$).



In [Figure {figures.sinecosine}](#fig:sinecosine), the angle $\theta$ represents the amount of rotation of $\vec{a}$ around the origin[^dot_product]. 

[^dot_product]: See [Orthogonality of Unit Vectors](/docs/articles/computer-graphics/dot-product#orthogonality-of-unit-vectors)


<a name="fig:sinecosine" />
<Embed
    modeAware={true}
    figure={figures.sinecosine}
    title={
        "The vector v is rotated around the origin by θ degree, resulting in vector v'."}>
    <img src={sinecosine}  />
</Embed>
<details>
<summary>Plot-Code (Python)</summary>

<CodeBlock language="python">
  {sinecosine_code}
</CodeBlock>

</details>

We claim that 

$$
\vec{v} = a \vec{x} + b \vec{y}
$$

holds for any **orthonormal basis**, not necessarily the standard basis (which turns out to be just a special case once we have proven the claim). 

We require $\sqrt{a^2 + b^2} = 1$ to ensure that $\vec{v}$ has unit length. This condition is immediately satisfied by chosing $a=\cos \theta, b = \sin \theta$, as derived in the following proof.

### Expressing the linear combination with cosine and sine

Let $\vec{x}, \vec{y} \in \mathbb{R}^2$, $\vec{x} \cdot \vec{y} = 0$, $|\vec{x}| = |\vec{y}| = 1$, $a, b \in \mathbb{R}_{[0, 1]}$, $a^2 + b ^2 = 1$.

**Claim**: The linear combination $a\vec{x} + b\vec{y}$ can be written as $\cos(\theta)\vec{x} + \sin(\theta)\vec{y}$ and yields a normalized vector $\vec{v}$:

$$
\hat{v} = \cos(\theta)\vec{x} + \sin(\theta)\vec{y}
$$


**Proof**:

We compute the dot products $\vec{v} \cdot \vec{x}$, $\vec{v} \cdot \vec{y}$ to relate the cosines of the angles $\theta$ (between $\vec{x}$ and $\vec{v}$) and $\varphi$ (between $\vec{y}$ and $\vec{v}$), respectively:

$$
\begin{alignat*}{3}
\vec{v} \cdot \vec{x} &= \cos(\theta)  |\vec{v}| |\vec{x}| \\
\vec{v} \cdot \vec{y} &= \cos(\varphi) |\vec{v}| |\vec{y}|
\end{alignat*}
$$

Since $|\vec{x}| = |\vec{y}| = 1$, we find

$$
\begin{alignat*}{3}
\vec{v} \cdot \vec{x} &= \cos(\theta)  |\vec{v}|\\
\vec{v} \cdot \vec{y} &= \cos(\varphi) |\vec{v}|
\end{alignat*}
$$

We now solve for $a$ and $b$. Since $\vec{v} = a\vec{x} + b \vec{y}$, we have

$$
\begin{split}
\vec{v} \cdot \vec{x} &= (a\vec{x} + b \vec{y}) \cdot \vec{x}  \\
                      &= a(|\vec{x}|^2)   + b( \vec{x} \cdot \vec{y}) \\
\end{split}
$$

Since $\vec{x} \cdot \vec{y} = 0$ and $|\vec{x}| = 1$, we have

$$
\begin{split}
\vec{v} \cdot \vec{x} = a \\
\end{split}
$$

Solving analogously for $b$, we obtain

$$
\begin{split}
\vec{v} \cdot \vec{y} = b \\
\end{split}
$$

We have shown that

$$
\begin{alignat*}{3}
\vec{v} \cdot \vec{x} &= \cos(\theta)  |\vec{v}| &&= a\\
\vec{v} \cdot \vec{y} &= \cos(\varphi) |\vec{v}| && = b
\end{alignat*}
$$

and substitute into the linear combination:

$$
\begin{alignat*}{3}
\vec{v} &= a \vec{x} + b \vec{y} \\
        &= \cos(\theta)  |\vec{v}| \vec{x} + \cos(\varphi) |\vec{v}| \vec{y}
\end{alignat*}
$$

From $\angle(\vec{x}, \vec{y}) = \frac{\pi}{2}$ we can derive

$$
\begin{equation}\notag
\begin{split}
\cos(\varphi) &= \cos(\frac{\pi}{2} - \theta) \\
              &= \cos(\frac{\pi}{2})\cos(\theta) + \sin(\frac{\pi}{2})\sin(\theta)\\
              &= \sin(\theta)
\end{split}
\end{equation}
$$



and finally rewrite the linear combination as

$$
\vec{v} = \cos(\theta)  |\vec{v}| \vec{x} + \sin(\theta) |\vec{v}| \vec{y}
$$

Dividing by $|\vec{v}|$ yields the normalized vector $\hat{v}$. We therefore receive


$$
\frac{\vec{v}}{|\vec{v}|} = \hat{v} = \cos(\theta) \vec{x} + \sin(\theta) \vec{y}
$$

$\Box$

#### Verifying the normalization
Under the given assumptions, we verify that $|\hat{v}| = 1$, confirming that $\hat{v}$ is normalized:

$$
\begin{equation}\notag
\begin{split}
|\hat{v}| &= |a \vec{x} + b \vec{y}| \\
          &= |a (x_1, x_2)^T + b (y_1, y_2)^T| \\
          &=  \sqrt{(ax_1 + by_1)^2 + (ax_2 + by_2)^2} \\
          &=  \sqrt{a^2x_1^2 + a^2x_2^2 + b^2y_1^2  + b^2y_2^2 + 2abx_1y_1 + 2abx_2y_2 } \\
          &=  \sqrt{a^2(x_1^2 + x_2^2) + b^2(y_1^2 + y_2^2) + 2ab(x_1y_1 + x_2y_2)} \\
          &=  \sqrt{a^2(\vec{x} \cdot \vec{x} ) + b^2(\vec{y} \cdot \vec{y}) + 2ab(\vec{x} \cdot \vec{y})} \\
          &=  \sqrt{a^2 + b^2 + 2ab0} \\
          &=  \sqrt{a^2 + b^2}
\end{split}
\end{equation}
$$

In order for $|\hat{v}| = 1$ to hold, it is required that $a^2 + b^2 = 1$, as given by the assumption.

Substituting $a$ and $b$ by $\cos(\theta)$ and $\sin(\theta)$, respectively, we confirm that

$$
\cos^2(\theta) + \sin^2(\theta) = 1
$$
$\Box$

### Determining the angle θ between the vectors

**Claim**: $\theta$ is the angle between $\hat{v}, \vec{x}$.

This follows trivially since we have already shown that both $\hat{v}$ and $\vec{x}$ are unit vectors.
By definition of the dot product, we have:

$$
\begin{alignat*}{3}
\hat{v} \cdot \vec{x} &= \cos(\theta) |\hat{v}| |\vec{x}| \\
                      &= \cos(\theta)
\end{alignat*}
$$
which is illustrated in [Figure {figures.sinecosine}](#fig:sinecosine).

$\Box$


### Generalization to Arbitrary Lengths


One particular result we get from this - and which will be useful when applying rotations in $\mathbb{R}^3$ around arbitrary axes -  is the fact that, for any perpendicular vectors $\vec{x}, \vec{y} \in \mathbb{R}^2$, where $|\vec{x}| = |\vec{y}|$, the linear combination

$$
\vec{v} = \cos(\theta) \vec{x} + \sin(\theta) \vec{y}
$$

yields a vector $\vec{v}$ satisfying 

$$ 
|\vec{v}| = |\vec{x}| = |\vec{y}|
$$

Following the previous proof, we now treat $\vec{x}, \vec{y}$ as vectors with arbitrary, but equal length, resulting in the (normalized) linear combination

$$
\hat{v} = \cos(\theta) \frac{\vec{x}}{|\vec{x}|} + \sin(\theta)\frac{\vec{y}}{|\vec{y}|}
$$

To cancel out the denominators on the right-hand side, we multiply the equation by $|\vec{x}|$[^denominator], yielding

$$
\hat{v}|\vec{x}| = \cos(\theta) \vec{x} + \sin(\theta) \vec{y}
$$

Thus, we obtain a vector with the same magnitude as $\vec{x}$ and $\vec{y}$.  $\Box$

[^denominator]: Since $|\vec{x}| = |\vec{y}|$, we can also chose $|\vec{y}|$  

------------------------