(self.webpackChunkthorsten_suckow_homberg_de=self.webpackChunkthorsten_suckow_homberg_de||[]).push([[6221],{3905:(e,t,n)=>{"use strict";n.d(t,{Zo:()=>p,kt:()=>u});var r=n(7294);function a(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function i(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function o(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?i(Object(n),!0).forEach((function(t){a(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function l(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}var s=r.createContext({}),c=function(e){var t=r.useContext(s),n=t;return e&&(n="function"==typeof e?e(t):o(o({},t),e)),n},p=function(e){var t=c(e.components);return r.createElement(s.Provider,{value:t},e.children)},m="mdxType",d={inlineCode:"code",wrapper:function(e){var t=e.children;return r.createElement(r.Fragment,{},t)}},f=r.forwardRef((function(e,t){var n=e.components,a=e.mdxType,i=e.originalType,s=e.parentName,p=l(e,["components","mdxType","originalType","parentName"]),m=c(n),f=a,u=m["".concat(s,".").concat(f)]||m[f]||d[f]||i;return n?r.createElement(u,o(o({ref:t},p),{},{components:n})):r.createElement(u,o({ref:t},p))}));function u(e,t){var n=arguments,a=t&&t.mdxType;if("string"==typeof e||a){var i=n.length,o=new Array(i);o[0]=f;var l={};for(var s in t)hasOwnProperty.call(t,s)&&(l[s]=t[s]);l.originalType=e,l[m]="string"==typeof e?e:a,o[1]=l;for(var c=2;c<i;c++)o[c]=n[c];return r.createElement.apply(null,o)}return r.createElement.apply(null,n)}f.displayName="MDXCreateElement"},2490:(e,t,n)=>{"use strict";n.d(t,{$o:()=>l,_b:()=>c,cx:()=>o,e2:()=>s,t2:()=>p});var r=n(7294),a=n(5075),i=n(9943);function o(e){let{width:t,children:n,title:i,figure:o,modeAware:l}=e;return r.createElement("div",{style:{width:t,textAlign:"center",margin:20}},r.createElement("div",{className:!1!==l?"umlImg":""},n),r.createElement("div",{style:{textAlign:"center"}},r.createElement("sup",null,r.createElement("b",null,a.Z.isString(o)?o:`Figure ${o??1}`)," ",r.createElement("span",{dangerouslySetInnerHTML:{__html:i}}))))}function l(e){let{id:t,source:n,title:a}=e;return r.createElement(o,{modeAware:!1,title:a,figure:`Source ${n}`},r.createElement(i.Z,{id:t}))}function s(e){let{url:t,figure:n,title:a}=e;return r.createElement(o,{modeAware:!1,figure:n,title:a},r.createElement("img",{alt:"{title}",src:t}))}function c(e){let{children:t,figure:n,title:a}=e;return r.createElement(o,{modeAware:!0,figure:n,title:a,children:t})}function p(e){let{when:t,where:n}=e;const[a,i]=n;return r.createElement("div",null,"This article was originally published in ",t," at ",r.createElement("a",{target:"_blank",href:i},a),". Some formatting might have get lost during the migration to this site: If you think you spotted an issue caused by malformed formatting, please ",r.createElement("a",{href:"mailto:thorsten@suckow-homberg.de"},"let me know"),".")}},6739:(e,t,n)=>{"use strict";n.d(t,{A:()=>i,E:()=>a});var r=n(7294);function a(e){let{name:t,pp:n}=e;const a=`/docs/bibliography#${t.toLowerCase()}`;return r.createElement("a",{href:a},"[",r.createElement("span",{className:"bibRef"},"\ud83d\udcd6",t.toUpperCase()),n?`, ${n.includes("-")?"pp":"p"}. ${n}`:"","]")}function i(e){let{name:t,file:n}=e;Object.entries({sd:"softwaredesign",sa:"softwarearchitecture",cs:"computerscience"}).some((e=>{let[t,r]=e;if(n.startsWith(`${t}.`))return n=n.replace(`${t}.`,`${r}.`),!0}));const a=`/docs/toolbox/${n}`;return r.createElement("a",{href:a,className:"glosRef"},t)}},6639:(e,t,n)=>{"use strict";n.r(t),n.d(t,{assets:()=>h,contentTitle:()=>f,default:()=>b,frontMatter:()=>d,metadata:()=>u,toc:()=>g});var r,a=n(7462),i=n(7294),o=n(3905),l=n(6739),s=n(2490);function c(){return c=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},c.apply(this,arguments)}const p=e=>{let{title:t,titleId:n,...a}=e;return i.createElement("svg",c({xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",width:600,height:360,"aria-labelledby":n},a),t?i.createElement("title",{id:n},t):null,r||(r=i.createElement("g",null,i.createElement("path",{d:"M20 26a6 6 0 0 1 6-6h248a6 6 0 0 1 6 6v108a6 6 0 0 1-6 6H26a6 6 0 0 1-6-6z",stroke:"#000",fill:"none"}),i.createElement("use",{xlinkHref:"#a",transform:"translate(47.685 84.444)"}),i.createElement("path",{d:"M320 226a6 6 0 0 1 6-6h248a6 6 0 0 1 6 6v108a6 6 0 0 1-6 6H326a6 6 0 0 1-6-6z",stroke:"#000",fill:"none"}),i.createElement("use",{xlinkHref:"#b",transform:"translate(378.488 284.444)"}),i.createElement("path",{d:"M450 203.12V86a6 6 0 0 0-6-6H281",stroke:"#000",fill:"none"}),i.createElement("path",{d:"m450 217.88-4.63-14.26h9.26z",stroke:"#000"}),i.createElement("path",{d:"M281 80.5h-.5v-1h.5z",stroke:"#000",strokeWidth:.05}),i.createElement("defs",null,i.createElement("path",{fill:"#000",d:"M30 0v-248h187v28H63v79h144v27H63v87h162V0H30",id:"c"}),i.createElement("path",{fill:"#000",d:"M210-169c-67 3-38 105-44 169h-31v-121c0-29-5-50-35-48C34-165 62-65 56 0H25l-1-190h30c1 10-1 24 2 32 10-44 99-50 107 0 11-21 27-35 58-36 85-2 47 119 55 194h-31v-121c0-29-5-49-35-48",id:"d"}),i.createElement("path",{fill:"#000",d:"M115-194c55 1 70 41 70 98S169 2 115 4C84 4 66-9 55-30l1 105H24l-1-265h31l2 30c10-21 28-34 59-34zm-8 174c40 0 45-34 45-75s-6-73-45-74c-42 0-51 32-51 76 0 43 10 73 51 73",id:"e"}),i.createElement("path",{fill:"#000",d:"M24 0v-261h32V0H24",id:"f"}),i.createElement("path",{fill:"#000",d:"M100-194c62-1 85 37 85 99 1 63-27 99-86 99S16-35 15-95c0-66 28-99 85-99zM99-20c44 1 53-31 53-75 0-43-8-75-51-75s-53 32-53 75 10 74 51 75",id:"g"}),i.createElement("path",{fill:"#000",d:"M179-190 93 31C79 59 56 82 12 73V49c39 6 53-20 64-50L1-190h34L92-34l54-156h33",id:"h"}),i.createElement("path",{fill:"#000",d:"M100-194c63 0 86 42 84 106H49c0 40 14 67 53 68 26 1 43-12 49-29l28 8c-11 28-37 45-77 45C44 4 14-33 15-96c1-61 26-98 85-98zm52 81c6-60-76-77-97-28-3 7-6 17-6 28h103",id:"i"}),i.createElement("path",{fill:"#000",d:"M233-177c-1 41-23 64-60 70L243 0h-38l-65-103H63V0H30v-248c88 3 205-21 203 71zM63-129c60-2 137 13 137-47 0-61-80-42-137-45v92",id:"j"}),i.createElement("path",{fill:"#000",d:"M135-143c-3-34-86-38-87 0 15 53 115 12 119 90S17 21 10-45l28-5c4 36 97 45 98 0-10-56-113-15-118-90-4-57 82-63 122-42 12 7 21 19 24 35",id:"k"}),i.createElement("path",{fill:"#000",d:"M24-231v-30h32v30H24zM24 0v-190h32V0H24",id:"l"}),i.createElement("path",{fill:"#000",d:"M59-47c-2 24 18 29 38 22v24C64 9 27 4 27-40v-127H5v-23h24l9-43h21v43h35v23H59v120",id:"m"}),i.createElement("path",{fill:"#000",d:"M114-163C36-179 61-72 57 0H25l-1-190h30c1 12-1 29 2 39 6-27 23-49 58-41v29",id:"n"}),i.createElement("path",{fill:"#000",d:"M30-248c118-7 216 8 213 122C240-48 200 0 122 0H30v-248zM63-27c89 8 146-16 146-99s-60-101-146-95v194",id:"o"}),i.createElement("path",{fill:"#000",d:"M160-131c35 5 61 23 61 61C221 17 115-2 30 0v-248c76 3 177-17 177 60 0 33-19 50-47 57zm-97-11c50-1 110 9 110-42 0-47-63-36-110-37v79zm0 115c55-2 124 14 124-45 0-56-70-42-124-44v89",id:"p"}),i.createElement("path",{fill:"#000",d:"M212-179c-10-28-35-45-73-45-59 0-87 40-87 99 0 60 29 101 89 101 43 0 62-24 78-52l27 14C228-24 195 4 139 4 59 4 22-46 18-125c-6-104 99-153 187-111 19 9 31 26 39 46",id:"q"}),i.createElement("path",{fill:"#000",d:"M117-194c89-4 53 116 60 194h-32v-121c0-31-8-49-39-48C34-167 62-67 57 0H25l-1-190h30c1 10-1 24 2 32 11-22 29-35 61-36",id:"r"}),i.createElement("path",{fill:"#000",d:"M96-169c-40 0-48 33-48 73s9 75 48 75c24 0 41-14 43-38l32 2c-6 37-31 61-74 61-59 0-76-41-82-99-10-93 101-131 147-64 4 7 5 14 7 22l-32 3c-4-21-16-35-41-35",id:"s"}),i.createElement("g",{id:"a"},i.createElement("use",{transform:"rotate(.413) scale(.06173)",xlinkHref:"#c"}),i.createElement("use",{transform:"matrix(.06173 0 0 .06173 14.815 0)",xlinkHref:"#d"}),i.createElement("use",{transform:"matrix(.06173 0 0 .06173 33.272 0)",xlinkHref:"#e"}),i.createElement("use",{transform:"matrix(.06173 0 0 .06173 45.617 0)",xlinkHref:"#f"}),i.createElement("use",{transform:"matrix(.06173 0 0 .06173 50.494 0)",xlinkHref:"#g"}),i.createElement("use",{transform:"matrix(.06173 0 0 .06173 62.84 0)",xlinkHref:"#h"}),i.createElement("use",{transform:"matrix(.06173 0 0 .06173 73.95 0)",xlinkHref:"#i"}),i.createElement("use",{transform:"matrix(.06173 0 0 .06173 86.296 0)",xlinkHref:"#i"}),i.createElement("use",{transform:"matrix(.06173 0 0 .06173 98.642 0)",xlinkHref:"#j"}),i.createElement("use",{transform:"matrix(.06173 0 0 .06173 114.63 0)",xlinkHref:"#i"}),i.createElement("use",{transform:"matrix(.06173 0 0 .06173 126.975 0)",xlinkHref:"#e"}),i.createElement("use",{transform:"matrix(.06173 0 0 .06173 139.321 0)",xlinkHref:"#g"}),i.createElement("use",{transform:"matrix(.06173 0 0 .06173 151.667 0)",xlinkHref:"#k"}),i.createElement("use",{transform:"matrix(.06173 0 0 .06173 162.778 0)",xlinkHref:"#l"}),i.createElement("use",{transform:"matrix(.06173 0 0 .06173 167.654 0)",xlinkHref:"#m"}),i.createElement("use",{transform:"matrix(.06173 0 0 .06173 173.827 0)",xlinkHref:"#g"}),i.createElement("use",{transform:"matrix(.06173 0 0 .06173 186.173 0)",xlinkHref:"#n"}),i.createElement("use",{transform:"matrix(.06173 0 0 .06173 193.519 0)",xlinkHref:"#h"})),i.createElement("g",{id:"b"},i.createElement("use",{transform:"rotate(.413) scale(.06173)",xlinkHref:"#o"}),i.createElement("use",{transform:"matrix(.06173 0 0 .06173 15.988 0)",xlinkHref:"#p"}),i.createElement("use",{transform:"matrix(.06173 0 0 .06173 30.802 0)",xlinkHref:"#q"}),i.createElement("use",{transform:"matrix(.06173 0 0 .06173 46.79 0)",xlinkHref:"#g"}),i.createElement("use",{transform:"matrix(.06173 0 0 .06173 59.136 0)",xlinkHref:"#r"}),i.createElement("use",{transform:"matrix(.06173 0 0 .06173 71.481 0)",xlinkHref:"#r"}),i.createElement("use",{transform:"matrix(.06173 0 0 .06173 83.827 0)",xlinkHref:"#i"}),i.createElement("use",{transform:"matrix(.06173 0 0 .06173 96.173 0)",xlinkHref:"#s"}),i.createElement("use",{transform:"matrix(.06173 0 0 .06173 107.284 0)",xlinkHref:"#m"}),i.createElement("use",{transform:"matrix(.06173 0 0 .06173 113.457 0)",xlinkHref:"#l"}),i.createElement("use",{transform:"matrix(.06173 0 0 .06173 118.333 0)",xlinkHref:"#g"}),i.createElement("use",{transform:"matrix(.06173 0 0 .06173 130.679 0)",xlinkHref:"#r"}))))))},m=n.p+"assets/images/employeerepository-decoupled.svg-fe2027d7e4b779935632cfaefecf1cb9.png",d={title:"Dependency-Inversion Principle"},f="Dependency-Inversion Principle (Software Design)",u={unversionedId:"toolbox/softwaredesign.dependencyinversionprinciple",id:"toolbox/softwaredesign.dependencyinversionprinciple",title:"Dependency-Inversion Principle",description:"The Dependency Inversion Principle (DIP) is a principle in Agile Software Development that helps with",source:"@site/docs/toolbox/softwaredesign.dependencyinversionprinciple.mdx",sourceDirName:"toolbox",slug:"/toolbox/softwaredesign.dependencyinversionprinciple",permalink:"/docs/toolbox/softwaredesign.dependencyinversionprinciple",draft:!1,editUrl:"https://github.com/thorstensuckow/thorsten.suckow-homberg.de/tree/main/docs/toolbox/softwaredesign.dependencyinversionprinciple.mdx",tags:[],version:"current",lastUpdatedBy:"Thorsten Suckow-Homberg",lastUpdatedAt:1680186938,formattedLastUpdatedAt:"Mar 30, 2023",frontMatter:{title:"Dependency-Inversion Principle"},sidebar:"toolbox",previous:{title:"Dependency Injection",permalink:"/docs/toolbox/softwaredesign.dependencyinjection"},next:{title:"Domain",permalink:"/docs/toolbox/softwaredesign.domain"}},h={},g=[],y=(k="BackButton",function(e){return console.warn("Component "+k+" was not imported, exported, or provided by MDXProvider as global scope"),(0,o.kt)("div",e)});var k;const E={toc:g},v="wrapper";function b(e){let{components:t,...n}=e;return(0,o.kt)(v,(0,a.Z)({},E,n,{components:t,mdxType:"MDXLayout"}),(0,o.kt)("h1",{id:"dependency-inversion-principle-software-design"},"Dependency-Inversion Principle (Software Design)"),(0,o.kt)("p",null,"The ",(0,o.kt)("strong",{parentName:"p"},"Dependency Inversion Principle")," (",(0,o.kt)("strong",{parentName:"p"},"DIP"),") is a principle in Agile Software Development that helps with\ndecoupling dependencies."),(0,o.kt)("blockquote",null,(0,o.kt)("p",{parentName:"blockquote"},(0,o.kt)("em",{parentName:"p"},'"a. High-level modules should not depend on low-level modules. Both should depend on abstractions.',(0,o.kt)("br",null),'\nb. Abstractions should not depend on details. Details should depend on abstractions."')," ",(0,o.kt)(l.E,{name:"asd",pp:"127",mdxType:"BibRef"}))),(0,o.kt)("p",null,"The ",(0,o.kt)("strong",{parentName:"p"},"Dependency Inversion Principle")," is one of the ",(0,o.kt)(l.A,{name:"SOLID",file:"sd.solid",mdxType:"GlosRef"}),"-principles."),(0,o.kt)("p",null,(0,o.kt)("strong",{parentName:"p"},"DIP")," suggests that high-level modules should not depend on implementation details of low-level modules. Instead,\n",(0,o.kt)("strong",{parentName:"p"},"Clients")," provide interfaces representing ",(0,o.kt)("em",{parentName:"p"},"contracts")," ",(0,o.kt)("strong",{parentName:"p"},"Servers")," need to implement so the ",(0,o.kt)("strong",{parentName:"p"},"Client")," can use their work."),(0,o.kt)("p",null,"In the following example, ",(0,o.kt)("strong",{parentName:"p"},"EmployeeRepository")," is responsible for fetching the data out of an underlying data storage."),(0,o.kt)("p",null,"Here, ",(0,o.kt)("strong",{parentName:"p"},"EmployeeRepository")," is the ",(0,o.kt)("strong",{parentName:"p"},"Client")," in the high-level module."),(0,o.kt)("p",null,"The naive approach is to hardwire the ",(0,o.kt)("strong",{parentName:"p"},"Server")," - the ",(0,o.kt)("strong",{parentName:"p"},"DBConnection"),"-class - with the ",(0,o.kt)("strong",{parentName:"p"},"EmployeeRepository"),"'s\n",(0,o.kt)("inlineCode",{parentName:"p"},"fetchEmployee()"),"-method. This not only creates unwanted coupling, it also exposes the infrastructure\nto a layer in the software system that should not be aware of such details."),(0,o.kt)(s._b,{figure:1,title:"Information of the underlying infrastructure is available to a high-level module",mdxType:"UmlEmbed"},(0,o.kt)(p,{mdxType:"Coupling"})),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-php",metastring:'title="Coupling EmployeeRepository (Client) with DBConnection (Server)"',title:'"Coupling',EmployeeRepository:!0,"(Client)":!0,with:!0,DBConnection:!0,'(Server)"':!0},'\nclass EmployeeRepository\n{\n    public function fetchEmployee(int $id): array\n    {\n        $db = new DBConnection($this->user, $this->password);\n        $row = $db->query("SELECT * FROM employee WHERE id=$id");\n        return $row;\n    }\n}\n')),(0,o.kt)("p",null,"The coupling between ",(0,o.kt)("strong",{parentName:"p"},"EmployeeRepository")," and ",(0,o.kt)("strong",{parentName:"p"},"DBConnection")," now necessitate that every change to the underlying\ninfrastructure leaks into ",(0,o.kt)("strong",{parentName:"p"},"EmployeeRepository"),". This effectively violates the ",(0,o.kt)("strong",{parentName:"p"},"DIP")," Principle and several other ",(0,o.kt)(l.A,{name:"SOLID",file:"sd.SOLID",mdxType:"GlosRef"}),"-principles."),(0,o.kt)("p",null,"To apply the ",(0,o.kt)("strong",{parentName:"p"},"DIP")," to the given example, the ",(0,o.kt)("strong",{parentName:"p"},"Client")," needs to provide a contract for the ",(0,o.kt)("strong",{parentName:"p"},"Server"),": The server's\nresponsibility now is to comply to the interface by implementing it."),(0,o.kt)("blockquote",null,(0,o.kt)("p",{parentName:"blockquote"},(0,o.kt)("em",{parentName:"p"},'"The lower-level modules provide the implementation for interfaces that are declared within, and called by, the upper level modules."')," ",(0,o.kt)(l.E,{name:"ASD",pp:"129",mdxType:"BibRef"}))),(0,o.kt)(s.cx,{figure:2,modeAware:!0,title:"The Client provides an interface that the Server has to conform to.",mdxType:"Embed"},(0,o.kt)("img",{src:m})),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-php",metastring:'title="EmployeeRepository declares the interface, and DBConnection serves the implementation"',title:'"EmployeeRepository',declares:!0,the:!0,"interface,":!0,and:!0,DBConnection:!0,serves:!0,'implementation"':!0},'\nclass EmployeeRepository\n{\n    public function __construct(EmployeeTableGateway $gateway)\n    {\n        $this->gateway = $gateway;\n    }\n\n    public function fetchEmployee(int $id): array\n    {\n        return $this->gateway->getEmployeeData($id);\n    }\n}\n\ninterface EmployeeTableGateway()\n{\n    public function getEmployeeData(int $id);\n}\n\nclass DBConnection implements EmployeeTableGateway\n{\n    public function getEmployeeData(int $id)\n    {\n        $row = $this->query("SELECT * FROM employee WHERE id=$id");\n        return $row;\n    }\n}\n')),(0,o.kt)("p",null,"Changes made to ",(0,o.kt)("strong",{parentName:"p"},"DBConnection")," in the ",(0,o.kt)("em",{parentName:"p"},"infrastructure layer")," don't affect the ",(0,o.kt)("strong",{parentName:"p"},"EmployeeRepository")," now.\nAdditionally, ",(0,o.kt)("strong",{parentName:"p"},"EmployeeRepository")," can be reused with any ",(0,o.kt)("strong",{parentName:"p"},"Server")," that conforms to the ",(0,o.kt)("strong",{parentName:"p"},"EmployeeTableGateway"),"-interface."),(0,o.kt)("p",null,"In the example above, the ",(0,o.kt)("strong",{parentName:"p"},"Client")," is unaware of the specific of ",(0,o.kt)("strong",{parentName:"p"},"EmployeeTableGateway"),". This information is provided\nby configuring the ",(0,o.kt)("strong",{parentName:"p"},"Client")," with an instance of this type. This instance can be determined during runtime, or during compile-time.\n",(0,o.kt)("strong",{parentName:"p"},"DIP")," is often realized with the help of ",(0,o.kt)(l.A,{name:"Dependency Injection",file:"sd.dependencyinjection",mdxType:"GlosRef"}),"."),(0,o.kt)("blockquote",null,(0,o.kt)("p",{parentName:"blockquote"},(0,o.kt)("em",{parentName:"p"},'"The modules that contain the high-level business rules should take precedence over, and be independent of, the modules that contain the implementation details."')," ",(0,o.kt)(l.E,{name:"ASD",pp:"128",mdxType:"BibRef"}))),(0,o.kt)(y,{mdxType:"BackButton"}))}b.isMDXComponent=!0},2480:()=>{}}]);