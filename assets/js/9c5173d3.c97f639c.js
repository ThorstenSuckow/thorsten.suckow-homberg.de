(self.webpackChunkthorsten_suckow_homberg_de=self.webpackChunkthorsten_suckow_homberg_de||[]).push([[584],{477:()=>{},2172:(e,n,t)=>{"use strict";t.d(n,{$z:()=>m,C9:()=>d,IX:()=>u,ZX:()=>f,eJ:()=>h,uR:()=>p});var r=t(6540),i=t(4882),s=t(8069),l=t(4945),o=t.n(l),a=t(2897),c=(t(4843),t(4848));function d(e){let{width:n,children:t,title:r,figure:s,modeAware:l}=e;return(0,c.jsxs)("div",{style:{width:n,textAlign:"center",margin:20},children:[(0,c.jsx)("div",{className:!1!==l?"umlImg":"",children:t}),(0,c.jsx)("div",{style:{textAlign:"center"},children:(0,c.jsxs)("sup",{children:[(0,c.jsx)("b",{children:i.A.isString(s)?s:`Figure ${s??1}`})," ",(0,c.jsx)("span",{dangerouslySetInnerHTML:{__html:r}})]})})]})}function h(e){let{id:n,source:t,title:r}=e;return(0,c.jsx)(d,{modeAware:!1,title:r,figure:`Source ${t}`,children:(0,c.jsx)(a.A,{id:n})})}function m(e){let{url:n,figure:t,title:r}=e;return(0,c.jsx)(d,{modeAware:!1,figure:t,title:r,children:(0,c.jsx)("img",{alt:"{title}",src:n})})}function p(e){let{children:n,figure:t,title:r}=e;return(0,c.jsx)(d,{modeAware:!0,figure:t,title:r,children:n})}function f(e){let{when:n,where:t}=e;const[r,i]=t;return(0,c.jsxs)("div",{children:["This article was originally published in ",n," at ",(0,c.jsx)("a",{target:"_blank",href:i,children:r}),". Some formatting might have get lost during the migration to this site: If you think you spotted an issue caused by malformed formatting, feel free to open a ",(0,c.jsx)("a",{href:"https://github.com/ThorstenSuckow/thorsten.suckow-homberg.de",children:"Pull Request"})," or ",(0,c.jsx)("a",{href:"mailto:thorsten@suckow-homberg.de",children:"send me an Email"}),"."]})}function u(e){let{url:n}=e;const[t,i]=r.useState("");return o()(n).then((e=>{e.text().then((e=>i(e)))})),(0,c.jsx)(s.A,{language:"php",children:t})}},4843:(e,n,t)=>{"use strict";t.d(n,{R5:()=>i,lA:()=>s});t(6540);var r=t(4848);function i(e){let{name:n,pp:t}=e;const i=`/docs/bibliography#${n.toLowerCase()}`;return(0,r.jsxs)("a",{href:i,children:["[",(0,r.jsxs)("span",{className:"bibRef",children:["\ud83d\udcd6",n]}),t?`, ${t.includes("-")?"pp":"p"}. ${t}`:"","]"]})}function s(e){let{name:n,file:t}=e;Object.entries({sd:"softwaredesign",sa:"softwarearchitecture",cs:"computerscience"}).some((e=>{let[n,r]=e;if(t.startsWith(`${n}.`))return t=t.replace(`${n}.`,`${r}.`),!0}));const i=`/docs/toolbox/${t}`;return(0,r.jsx)("a",{href:i,className:"glosRef",children:n})}},5142:(e,n,t)=>{"use strict";t.d(n,{o:()=>i});t(6540);var r=t(4848);function i(){return(0,r.jsx)("div",{style:{width:"100%",textAlign:"right"},children:(0,r.jsx)("a",{style:{textDecoration:"underline"},onClick:()=>history.go(-1),href:"#",children:"Back"})})}},7025:(e,n,t)=>{"use strict";t.r(n),t.d(n,{assets:()=>x,contentTitle:()=>u,default:()=>j,frontMatter:()=>f,metadata:()=>r,toc:()=>g});const r=JSON.parse('{"id":"toolbox/softwaredesign.dependencyinversionprinciple","title":"Dependency-Inversion Principle","description":"The Dependency Inversion Principle (DIP) is a principle in Agile Software Development that helps with","source":"@site/docs/toolbox/softwaredesign.dependencyinversionprinciple.mdx","sourceDirName":"toolbox","slug":"/toolbox/softwaredesign.dependencyinversionprinciple","permalink":"/docs/toolbox/softwaredesign.dependencyinversionprinciple","draft":false,"unlisted":false,"editUrl":"https://github.com/thorstensuckow/thorsten.suckow-homberg.de/tree/main/docs/toolbox/softwaredesign.dependencyinversionprinciple.mdx","tags":[],"version":"current","lastUpdatedBy":"Thorsten Suckow-Homberg","lastUpdatedAt":1746179378000,"frontMatter":{"title":"Dependency-Inversion Principle"},"sidebar":"toolbox","previous":{"title":"Dependency Injection","permalink":"/docs/toolbox/softwaredesign.dependencyinjection"},"next":{"title":"Domain","permalink":"/docs/toolbox/softwaredesign.domain"}}');var i,s=t(4848),l=t(8453),o=t(4843),a=t(2172),c=t(5142),d=t(6540);function h(){return h=Object.assign?Object.assign.bind():function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var r in t)({}).hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e},h.apply(null,arguments)}const m=e=>{let{title:n,titleId:t,...r}=e;return d.createElement("svg",h({xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",width:600,height:360,"aria-labelledby":t},r),n?d.createElement("title",{id:t},n):null,i||(i=d.createElement("g",null,d.createElement("path",{fill:"none",stroke:"#000",d:"M20 26a6 6 0 0 1 6-6h248a6 6 0 0 1 6 6v108a6 6 0 0 1-6 6H26a6 6 0 0 1-6-6z"}),d.createElement("use",{xlinkHref:"#a",transform:"translate(47.685 84.444)"}),d.createElement("path",{fill:"none",stroke:"#000",d:"M320 226a6 6 0 0 1 6-6h248a6 6 0 0 1 6 6v108a6 6 0 0 1-6 6H326a6 6 0 0 1-6-6z"}),d.createElement("use",{xlinkHref:"#b",transform:"translate(378.488 284.444)"}),d.createElement("path",{fill:"none",stroke:"#000",d:"M450 203.12V86a6 6 0 0 0-6-6H281"}),d.createElement("path",{stroke:"#000",d:"m450 217.88-4.63-14.26h9.26z"}),d.createElement("path",{stroke:"#000",strokeWidth:.05,d:"M281 80.5h-.5v-1h.5z"}),d.createElement("defs",null,d.createElement("path",{id:"c",fill:"#000",d:"M30 0v-248h187v28H63v79h144v27H63v87h162V0z"}),d.createElement("path",{id:"d",fill:"#000",d:"M210-169c-67 3-38 105-44 169h-31v-121c0-29-5-50-35-48C34-165 62-65 56 0H25l-1-190h30c1 10-1 24 2 32 10-44 99-50 107 0 11-21 27-35 58-36 85-2 47 119 55 194h-31v-121c0-29-5-49-35-48"}),d.createElement("path",{id:"e",fill:"#000",d:"M115-194c55 1 70 41 70 98S169 2 115 4C84 4 66-9 55-30l1 105H24l-1-265h31l2 30c10-21 28-34 59-34m-8 174c40 0 45-34 45-75s-6-73-45-74c-42 0-51 32-51 76 0 43 10 73 51 73"}),d.createElement("path",{id:"f",fill:"#000",d:"M24 0v-261h32V0z"}),d.createElement("path",{id:"g",fill:"#000",d:"M100-194c62-1 85 37 85 99 1 63-27 99-86 99S16-35 15-95c0-66 28-99 85-99M99-20c44 1 53-31 53-75 0-43-8-75-51-75s-53 32-53 75 10 74 51 75"}),d.createElement("path",{id:"h",fill:"#000",d:"M179-190 93 31C79 59 56 82 12 73V49c39 6 53-20 64-50L1-190h34L92-34l54-156z"}),d.createElement("path",{id:"i",fill:"#000",d:"M100-194c63 0 86 42 84 106H49c0 40 14 67 53 68 26 1 43-12 49-29l28 8c-11 28-37 45-77 45C44 4 14-33 15-96c1-61 26-98 85-98m52 81c6-60-76-77-97-28-3 7-6 17-6 28z"}),d.createElement("path",{id:"j",fill:"#000",d:"M233-177c-1 41-23 64-60 70L243 0h-38l-65-103H63V0H30v-248c88 3 205-21 203 71M63-129c60-2 137 13 137-47 0-61-80-42-137-45z"}),d.createElement("path",{id:"k",fill:"#000",d:"M135-143c-3-34-86-38-87 0 15 53 115 12 119 90S17 21 10-45l28-5c4 36 97 45 98 0-10-56-113-15-118-90-4-57 82-63 122-42 12 7 21 19 24 35"}),d.createElement("path",{id:"l",fill:"#000",d:"M24-231v-30h32v30zM24 0v-190h32V0z"}),d.createElement("path",{id:"m",fill:"#000",d:"M59-47c-2 24 18 29 38 22v24C64 9 27 4 27-40v-127H5v-23h24l9-43h21v43h35v23H59z"}),d.createElement("path",{id:"n",fill:"#000",d:"M114-163C36-179 61-72 57 0H25l-1-190h30c1 12-1 29 2 39 6-27 23-49 58-41z"}),d.createElement("path",{id:"o",fill:"#000",d:"M30-248c118-7 216 8 213 122C240-48 200 0 122 0H30zM63-27c89 8 146-16 146-99s-60-101-146-95z"}),d.createElement("path",{id:"p",fill:"#000",d:"M160-131c35 5 61 23 61 61C221 17 115-2 30 0v-248c76 3 177-17 177 60 0 33-19 50-47 57m-97-11c50-1 110 9 110-42 0-47-63-36-110-37zm0 115c55-2 124 14 124-45 0-56-70-42-124-44z"}),d.createElement("path",{id:"q",fill:"#000",d:"M212-179c-10-28-35-45-73-45-59 0-87 40-87 99 0 60 29 101 89 101 43 0 62-24 78-52l27 14C228-24 195 4 139 4 59 4 22-46 18-125c-6-104 99-153 187-111 19 9 31 26 39 46"}),d.createElement("path",{id:"r",fill:"#000",d:"M117-194c89-4 53 116 60 194h-32v-121c0-31-8-49-39-48C34-167 62-67 57 0H25l-1-190h30c1 10-1 24 2 32 11-22 29-35 61-36"}),d.createElement("path",{id:"s",fill:"#000",d:"M96-169c-40 0-48 33-48 73s9 75 48 75c24 0 41-14 43-38l32 2c-6 37-31 61-74 61-59 0-76-41-82-99-10-93 101-131 147-64 4 7 5 14 7 22l-32 3c-4-21-16-35-41-35"}),d.createElement("g",{id:"a"},d.createElement("use",{xlinkHref:"#c",transform:"rotate(.413)scale(.06173)"}),d.createElement("use",{xlinkHref:"#d",transform:"matrix(.06173 0 0 .06173 14.815 0)"}),d.createElement("use",{xlinkHref:"#e",transform:"matrix(.06173 0 0 .06173 33.272 0)"}),d.createElement("use",{xlinkHref:"#f",transform:"matrix(.06173 0 0 .06173 45.617 0)"}),d.createElement("use",{xlinkHref:"#g",transform:"matrix(.06173 0 0 .06173 50.494 0)"}),d.createElement("use",{xlinkHref:"#h",transform:"matrix(.06173 0 0 .06173 62.84 0)"}),d.createElement("use",{xlinkHref:"#i",transform:"matrix(.06173 0 0 .06173 73.95 0)"}),d.createElement("use",{xlinkHref:"#i",transform:"matrix(.06173 0 0 .06173 86.296 0)"}),d.createElement("use",{xlinkHref:"#j",transform:"matrix(.06173 0 0 .06173 98.642 0)"}),d.createElement("use",{xlinkHref:"#i",transform:"matrix(.06173 0 0 .06173 114.63 0)"}),d.createElement("use",{xlinkHref:"#e",transform:"matrix(.06173 0 0 .06173 126.975 0)"}),d.createElement("use",{xlinkHref:"#g",transform:"matrix(.06173 0 0 .06173 139.321 0)"}),d.createElement("use",{xlinkHref:"#k",transform:"rotate(.413 5833485 0)scale(.06173)"}),d.createElement("use",{xlinkHref:"#l",transform:"matrix(.06173 0 0 .06173 162.778 0)"}),d.createElement("use",{xlinkHref:"#m",transform:"matrix(.06173 0 0 .06173 167.654 0)"}),d.createElement("use",{xlinkHref:"#g",transform:"matrix(.06173 0 0 .06173 173.827 0)"}),d.createElement("use",{xlinkHref:"#n",transform:"rotate(.413 7160680 0)scale(.06173)"}),d.createElement("use",{xlinkHref:"#h",transform:"matrix(.06173 0 0 .06173 193.519 0)"})),d.createElement("g",{id:"b"},d.createElement("use",{xlinkHref:"#o",transform:"rotate(.413)scale(.06173)"}),d.createElement("use",{xlinkHref:"#p",transform:"matrix(.06173 0 0 .06173 15.988 0)"}),d.createElement("use",{xlinkHref:"#q",transform:"matrix(.06173 0 0 .06173 30.802 0)"}),d.createElement("use",{xlinkHref:"#g",transform:"matrix(.06173 0 0 .06173 46.79 0)"}),d.createElement("use",{xlinkHref:"#r",transform:"matrix(.06173 0 0 .06173 59.136 0)"}),d.createElement("use",{xlinkHref:"#r",transform:"matrix(.06173 0 0 .06173 71.481 0)"}),d.createElement("use",{xlinkHref:"#i",transform:"matrix(.06173 0 0 .06173 83.827 0)"}),d.createElement("use",{xlinkHref:"#s",transform:"matrix(.06173 0 0 .06173 96.173 0)"}),d.createElement("use",{xlinkHref:"#m",transform:"matrix(.06173 0 0 .06173 107.284 0)"}),d.createElement("use",{xlinkHref:"#l",transform:"matrix(.06173 0 0 .06173 113.457 0)"}),d.createElement("use",{xlinkHref:"#g",transform:"matrix(.06173 0 0 .06173 118.333 0)"}),d.createElement("use",{xlinkHref:"#r",transform:"matrix(.06173 0 0 .06173 130.679 0)"}))))))},p=t.p+"assets/images/employeerepository-decoupled.svg-fe2027d7e4b779935632cfaefecf1cb9.png",f={title:"Dependency-Inversion Principle"},u="Dependency-Inversion Principle (Software Design)",x={},g=[];function y(e){const n={blockquote:"blockquote",code:"code",em:"em",h1:"h1",header:"header",p:"p",pre:"pre",strong:"strong",...(0,l.R)(),...e.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(n.header,{children:(0,s.jsx)(n.h1,{id:"dependency-inversion-principle-software-design",children:"Dependency-Inversion Principle (Software Design)"})}),"\n",(0,s.jsxs)(n.p,{children:["The ",(0,s.jsx)(n.strong,{children:"Dependency Inversion Principle"})," (",(0,s.jsx)(n.strong,{children:"DIP"}),") is a principle in Agile Software Development that helps with\ndecoupling dependencies."]}),"\n",(0,s.jsxs)(n.blockquote,{children:["\n",(0,s.jsxs)(n.p,{children:[(0,s.jsxs)(n.em,{children:['"a. High-level modules should not depend on low-level modules. Both should depend on abstractions.',(0,s.jsx)("br",{}),'\nb. Abstractions should not depend on details. Details should depend on abstractions."']})," ",(0,s.jsx)(o.R5,{name:"asd",pp:"127"})]}),"\n"]}),"\n",(0,s.jsxs)(n.p,{children:["The ",(0,s.jsx)(n.strong,{children:"Dependency Inversion Principle"})," is one of the ",(0,s.jsx)(o.lA,{name:"SOLID",file:"sd.solid"}),"-principles."]}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"DIP"})," suggests that high-level modules should not depend on implementation details of low-level modules. Instead,\n",(0,s.jsx)(n.strong,{children:"Clients"})," provide interfaces representing ",(0,s.jsx)(n.em,{children:"contracts"})," ",(0,s.jsx)(n.strong,{children:"Servers"})," need to implement so the ",(0,s.jsx)(n.strong,{children:"Client"})," can use their work."]}),"\n",(0,s.jsxs)(n.p,{children:["In the following example, ",(0,s.jsx)(n.strong,{children:"EmployeeRepository"})," is responsible for fetching the data out of an underlying data storage."]}),"\n",(0,s.jsxs)(n.p,{children:["Here, ",(0,s.jsx)(n.strong,{children:"EmployeeRepository"})," is the ",(0,s.jsx)(n.strong,{children:"Client"})," in the high-level module."]}),"\n",(0,s.jsxs)(n.p,{children:["The naive approach is to hardwire the ",(0,s.jsx)(n.strong,{children:"Server"})," - the ",(0,s.jsx)(n.strong,{children:"DBConnection"}),"-class - with the ",(0,s.jsx)(n.strong,{children:"EmployeeRepository"}),"'s\n",(0,s.jsx)(n.code,{children:"fetchEmployee()"}),"-method. This not only creates unwanted coupling, it also exposes the infrastructure\nto a layer in the software system that should not be aware of such details."]}),"\n","\n",(0,s.jsx)(a.uR,{figure:1,title:"Information of the underlying infrastructure is available to a high-level module",children:(0,s.jsx)(m,{})}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-php",metastring:'title="Coupling EmployeeRepository (Client) with DBConnection (Server)"',children:'\nclass EmployeeRepository\n{\n    public function fetchEmployee(int $id): array\n    {\n        $db = new DBConnection($this->user, $this->password);\n        $row = $db->query("SELECT * FROM employee WHERE id=$id");\n        return $row;\n    }\n}\n'})}),"\n",(0,s.jsxs)(n.p,{children:["The coupling between ",(0,s.jsx)(n.strong,{children:"EmployeeRepository"})," and ",(0,s.jsx)(n.strong,{children:"DBConnection"})," now necessitate that every change to the underlying\ninfrastructure leaks into ",(0,s.jsx)(n.strong,{children:"EmployeeRepository"}),". This effectively violates the ",(0,s.jsx)(n.strong,{children:"DIP"})," Principle and several other ",(0,s.jsx)(o.lA,{name:"SOLID",file:"sd.SOLID"}),"-principles."]}),"\n",(0,s.jsxs)(n.p,{children:["To apply the ",(0,s.jsx)(n.strong,{children:"DIP"})," to the given example, the ",(0,s.jsx)(n.strong,{children:"Client"})," needs to provide a contract for the ",(0,s.jsx)(n.strong,{children:"Server"}),": The server's\nresponsibility now is to comply to the interface by implementing it."]}),"\n",(0,s.jsxs)(n.blockquote,{children:["\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.em,{children:'"The lower-level modules provide the implementation for interfaces that are declared within, and called by, the upper level modules."'})," ",(0,s.jsx)(o.R5,{name:"ASD",pp:"129"})]}),"\n"]}),"\n","\n",(0,s.jsx)(a.C9,{figure:2,modeAware:!0,title:"The Client provides an interface that the Server has to conform to.",children:(0,s.jsx)("img",{src:p})}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-php",metastring:'title="EmployeeRepository declares the interface, and DBConnection serves the implementation"',children:'\nclass EmployeeRepository\n{\n    public function __construct(EmployeeTableGateway $gateway)\n    {\n        $this->gateway = $gateway;\n    }\n\n    public function fetchEmployee(int $id): array\n    {\n        return $this->gateway->getEmployeeData($id);\n    }\n}\n\ninterface EmployeeTableGateway()\n{\n    public function getEmployeeData(int $id);\n}\n\nclass DBConnection implements EmployeeTableGateway\n{\n    public function getEmployeeData(int $id)\n    {\n        $row = $this->query("SELECT * FROM employee WHERE id=$id");\n        return $row;\n    }\n}\n'})}),"\n",(0,s.jsxs)(n.p,{children:["Changes made to ",(0,s.jsx)(n.strong,{children:"DBConnection"})," in the ",(0,s.jsx)(n.em,{children:"infrastructure layer"})," don't affect the ",(0,s.jsx)(n.strong,{children:"EmployeeRepository"})," now.\nAdditionally, ",(0,s.jsx)(n.strong,{children:"EmployeeRepository"})," can be reused with any ",(0,s.jsx)(n.strong,{children:"Server"})," that conforms to the ",(0,s.jsx)(n.strong,{children:"EmployeeTableGateway"}),"-interface."]}),"\n",(0,s.jsxs)(n.p,{children:["In the example above, the ",(0,s.jsx)(n.strong,{children:"Client"})," is unaware of the specific of ",(0,s.jsx)(n.strong,{children:"EmployeeTableGateway"}),". This information is provided\nby configuring the ",(0,s.jsx)(n.strong,{children:"Client"})," with an instance of this type. This instance can be determined during runtime, or during compile-time.\n",(0,s.jsx)(n.strong,{children:"DIP"})," is often realized with the help of ",(0,s.jsx)(o.lA,{name:"Dependency Injection",file:"sd.dependencyinjection"}),"."]}),"\n",(0,s.jsxs)(n.blockquote,{children:["\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.em,{children:'"The modules that contain the high-level business rules should take precedence over, and be independent of, the modules that contain the implementation details."'})," ",(0,s.jsx)(o.R5,{name:"ASD",pp:"128"})]}),"\n"]}),"\n",(0,s.jsx)(c.o,{})]})}function j(e={}){const{wrapper:n}={...(0,l.R)(),...e.components};return n?(0,s.jsx)(n,{...e,children:(0,s.jsx)(y,{...e})}):y(e)}},8453:(e,n,t)=>{"use strict";t.d(n,{R:()=>l,x:()=>o});var r=t(6540);const i={},s=r.createContext(i);function l(e){const n=r.useContext(s);return r.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function o(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(i):e.components||i:l(e.components),r.createElement(s.Provider,{value:n},e.children)}}}]);