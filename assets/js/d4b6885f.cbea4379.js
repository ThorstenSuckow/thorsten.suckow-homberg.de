(self.webpackChunkthorsten_suckow_homberg_de=self.webpackChunkthorsten_suckow_homberg_de||[]).push([[592],{3905:(e,a,t)=>{"use strict";t.d(a,{Zo:()=>p,kt:()=>d});var n=t(7294);function s(e,a,t){return a in e?Object.defineProperty(e,a,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[a]=t,e}function r(e,a){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);a&&(n=n.filter((function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable}))),t.push.apply(t,n)}return t}function m(e){for(var a=1;a<arguments.length;a++){var t=null!=arguments[a]?arguments[a]:{};a%2?r(Object(t),!0).forEach((function(a){s(e,a,t[a])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):r(Object(t)).forEach((function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(t,a))}))}return e}function i(e,a){if(null==e)return{};var t,n,s=function(e,a){if(null==e)return{};var t,n,s={},r=Object.keys(e);for(n=0;n<r.length;n++)t=r[n],a.indexOf(t)>=0||(s[t]=e[t]);return s}(e,a);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(n=0;n<r.length;n++)t=r[n],a.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(e,t)&&(s[t]=e[t])}return s}var l=n.createContext({}),o=function(e){var a=n.useContext(l),t=a;return e&&(t="function"==typeof e?e(a):m(m({},a),e)),t},p=function(e){var a=o(e.components);return n.createElement(l.Provider,{value:a},e.children)},c="mdxType",u={inlineCode:"code",wrapper:function(e){var a=e.children;return n.createElement(n.Fragment,{},a)}},h=n.forwardRef((function(e,a){var t=e.components,s=e.mdxType,r=e.originalType,l=e.parentName,p=i(e,["components","mdxType","originalType","parentName"]),c=o(t),h=s,d=c["".concat(l,".").concat(h)]||c[h]||u[h]||r;return t?n.createElement(d,m(m({ref:a},p),{},{components:t})):n.createElement(d,m({ref:a},p))}));function d(e,a){var t=arguments,s=a&&a.mdxType;if("string"==typeof e||s){var r=t.length,m=new Array(r);m[0]=h;var i={};for(var l in a)hasOwnProperty.call(a,l)&&(i[l]=a[l]);i.originalType=e,i[c]="string"==typeof e?e:s,m[1]=i;for(var o=2;o<r;o++)m[o]=t[o];return n.createElement.apply(null,m)}return n.createElement.apply(null,t)}h.displayName="MDXCreateElement"},5162:(e,a,t)=>{"use strict";t.d(a,{Z:()=>m});var n=t(7294),s=t(6010);const r={tabItem:"tabItem_Ymn6"};function m(e){let{children:a,hidden:t,className:m}=e;return n.createElement("div",{role:"tabpanel",className:(0,s.Z)(r.tabItem,m),hidden:t},a)}},4866:(e,a,t)=>{"use strict";t.d(a,{Z:()=>w});var n=t(7462),s=t(7294),r=t(6010),m=t(2466),i=t(6550),l=t(1980),o=t(7392),p=t(12);function c(e){return function(e){return s.Children.map(e,(e=>{if((0,s.isValidElement)(e)&&"value"in e.props)return e;throw new Error(`Docusaurus error: Bad <Tabs> child <${"string"==typeof e.type?e.type:e.type.name}>: all children of the <Tabs> component should be <TabItem>, and every <TabItem> should have a unique "value" prop.`)}))}(e).map((e=>{let{props:{value:a,label:t,attributes:n,default:s}}=e;return{value:a,label:t,attributes:n,default:s}}))}function u(e){const{values:a,children:t}=e;return(0,s.useMemo)((()=>{const e=a??c(t);return function(e){const a=(0,o.l)(e,((e,a)=>e.value===a.value));if(a.length>0)throw new Error(`Docusaurus error: Duplicate values "${a.map((e=>e.value)).join(", ")}" found in <Tabs>. Every value needs to be unique.`)}(e),e}),[a,t])}function h(e){let{value:a,tabValues:t}=e;return t.some((e=>e.value===a))}function d(e){let{queryString:a=!1,groupId:t}=e;const n=(0,i.k6)(),r=function(e){let{queryString:a=!1,groupId:t}=e;if("string"==typeof a)return a;if(!1===a)return null;if(!0===a&&!t)throw new Error('Docusaurus error: The <Tabs> component groupId prop is required if queryString=true, because this value is used as the search param name. You can also provide an explicit value such as queryString="my-search-param".');return t??null}({queryString:a,groupId:t});return[(0,l._X)(r),(0,s.useCallback)((e=>{if(!r)return;const a=new URLSearchParams(n.location.search);a.set(r,e),n.replace({...n.location,search:a.toString()})}),[r,n])]}function k(e){const{defaultValue:a,queryString:t=!1,groupId:n}=e,r=u(e),[m,i]=(0,s.useState)((()=>function(e){let{defaultValue:a,tabValues:t}=e;if(0===t.length)throw new Error("Docusaurus error: the <Tabs> component requires at least one <TabItem> children component");if(a){if(!h({value:a,tabValues:t}))throw new Error(`Docusaurus error: The <Tabs> has a defaultValue "${a}" but none of its children has the corresponding value. Available values are: ${t.map((e=>e.value)).join(", ")}. If you intend to show no default tab, use defaultValue={null} instead.`);return a}const n=t.find((e=>e.default))??t[0];if(!n)throw new Error("Unexpected error: 0 tabValues");return n.value}({defaultValue:a,tabValues:r}))),[l,o]=d({queryString:t,groupId:n}),[c,k]=function(e){let{groupId:a}=e;const t=function(e){return e?`docusaurus.tab.${e}`:null}(a),[n,r]=(0,p.Nk)(t);return[n,(0,s.useCallback)((e=>{t&&r.set(e)}),[t,r])]}({groupId:n}),N=(()=>{const e=l??c;return h({value:e,tabValues:r})?e:null})();(0,s.useLayoutEffect)((()=>{N&&i(N)}),[N]);return{selectedValue:m,selectValue:(0,s.useCallback)((e=>{if(!h({value:e,tabValues:r}))throw new Error(`Can't select invalid tab value=${e}`);i(e),o(e),k(e)}),[o,k,r]),tabValues:r}}var N=t(2389);const g={tabList:"tabList__CuJ",tabItem:"tabItem_LNqP"};function f(e){let{className:a,block:t,selectedValue:i,selectValue:l,tabValues:o}=e;const p=[],{blockElementScrollPositionUntilNextRender:c}=(0,m.o5)(),u=e=>{const a=e.currentTarget,t=p.indexOf(a),n=o[t].value;n!==i&&(c(a),l(n))},h=e=>{let a=null;switch(e.key){case"Enter":u(e);break;case"ArrowRight":{const t=p.indexOf(e.currentTarget)+1;a=p[t]??p[0];break}case"ArrowLeft":{const t=p.indexOf(e.currentTarget)-1;a=p[t]??p[p.length-1];break}}a?.focus()};return s.createElement("ul",{role:"tablist","aria-orientation":"horizontal",className:(0,r.Z)("tabs",{"tabs--block":t},a)},o.map((e=>{let{value:a,label:t,attributes:m}=e;return s.createElement("li",(0,n.Z)({role:"tab",tabIndex:i===a?0:-1,"aria-selected":i===a,key:a,ref:e=>p.push(e),onKeyDown:h,onClick:u},m,{className:(0,r.Z)("tabs__item",g.tabItem,m?.className,{"tabs__item--active":i===a})}),t??a)})))}function b(e){let{lazy:a,children:t,selectedValue:n}=e;if(t=Array.isArray(t)?t:[t],a){const e=t.find((e=>e.props.value===n));return e?(0,s.cloneElement)(e,{className:"margin-top--md"}):null}return s.createElement("div",{className:"margin-top--md"},t.map(((e,a)=>(0,s.cloneElement)(e,{key:a,hidden:e.props.value!==n}))))}function y(e){const a=k(e);return s.createElement("div",{className:(0,r.Z)("tabs-container",g.tabList)},s.createElement(f,(0,n.Z)({},e,a)),s.createElement(b,(0,n.Z)({},e,a)))}function w(e){const a=(0,N.Z)();return s.createElement(y,(0,n.Z)({key:String(a)},e))}},4461:(e,a,t)=>{"use strict";t.d(a,{x:()=>s});var n=t(7294);function s(){return n.createElement("div",{style:{width:"100%",textAlign:"right"}},n.createElement("a",{style:{textDecoration:"underline"},onClick:()=>history.go(-1),href:"#"},"Back"))}},2490:(e,a,t)=>{"use strict";t.d(a,{$o:()=>p,_b:()=>u,cx:()=>o,e2:()=>c,in:()=>d,t2:()=>h});var n=t(7294),s=t(5075),r=t(9943),m=t(814),i=t(4098),l=t.n(i);function o(e){let{width:a,children:t,title:r,figure:m,modeAware:i}=e;return n.createElement("div",{style:{width:a,textAlign:"center",margin:20}},n.createElement("div",{className:!1!==i?"umlImg":""},t),n.createElement("div",{style:{textAlign:"center"}},n.createElement("sup",null,n.createElement("b",null,s.Z.isString(m)?m:`Figure ${m??1}`)," ",n.createElement("span",{dangerouslySetInnerHTML:{__html:r}}))))}function p(e){let{id:a,source:t,title:s}=e;return n.createElement(o,{modeAware:!1,title:s,figure:`Source ${t}`},n.createElement(r.Z,{id:a}))}function c(e){let{url:a,figure:t,title:s}=e;return n.createElement(o,{modeAware:!1,figure:t,title:s},n.createElement("img",{alt:"{title}",src:a}))}function u(e){let{children:a,figure:t,title:s}=e;return n.createElement(o,{modeAware:!0,figure:t,title:s,children:a})}function h(e){let{when:a,where:t}=e;const[s,r]=t;return n.createElement("div",null,"This article was originally published in ",a," at ",n.createElement("a",{target:"_blank",href:r},s),". Some formatting might have get lost during the migration to this site: If you think you spotted an issue caused by malformed formatting, please ",n.createElement("a",{href:"mailto:thorsten@suckow-homberg.de"},"let me know"),".")}function d(e){let{url:a}=e;const[t,s]=n.useState("");return l()(a).then((e=>{e.text().then((e=>s(e)))})),n.createElement(m.Z,{language:"php"},t)}},6739:(e,a,t)=>{"use strict";t.d(a,{A:()=>r,E:()=>s});var n=t(7294);function s(e){let{name:a,pp:t}=e;const s=`/docs/bibliography#${a.toLowerCase()}`;return n.createElement("a",{href:s},"[",n.createElement("span",{className:"bibRef"},"\ud83d\udcd6",a.toUpperCase()),t?`, ${t.includes("-")?"pp":"p"}. ${t}`:"","]")}function r(e){let{name:a,file:t}=e;Object.entries({sd:"softwaredesign",sa:"softwarearchitecture",cs:"computerscience"}).some((e=>{let[a,n]=e;if(t.startsWith(`${a}.`))return t=t.replace(`${a}.`,`${n}.`),!0}));const s=`/docs/toolbox/${t}`;return n.createElement("a",{href:s,className:"glosRef"},a)}},5623:(e,a,t)=>{"use strict";t.r(a),t.d(a,{assets:()=>k,contentTitle:()=>h,default:()=>b,frontMatter:()=>u,metadata:()=>d,toc:()=>N});var n=t(7462),s=(t(7294),t(3905)),r=t(4461),m=t(6739),i=t(4866),l=t(5162),o=t(2490);const p="data:image/png;base64,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",c=t.p+"assets/images/valueobject-5800.svg-1cd649bdf2738cc08e07b8eea901f356.png",u={title:"Value Object"},h="Value Object (Software Design)",d={unversionedId:"toolbox/softwaredesign.valueobject",id:"toolbox/softwaredesign.valueobject",title:"Value Object",description:"In Object-Oriented Programming, a Value Object is an abstraction of a value belonging to a particular domain.",source:"@site/docs/toolbox/softwaredesign.valueobject.mdx",sourceDirName:"toolbox",slug:"/toolbox/softwaredesign.valueobject",permalink:"/docs/toolbox/softwaredesign.valueobject",draft:!1,editUrl:"https://github.com/thorstensuckow/thorsten.suckow-homberg.de/tree/main/docs/toolbox/softwaredesign.valueobject.mdx",tags:[],version:"current",lastUpdatedBy:"Thorsten Suckow-Homberg",lastUpdatedAt:1682282648,formattedLastUpdatedAt:"Apr 23, 2023",frontMatter:{title:"Value Object"},sidebar:"toolbox",previous:{title:"Use Case",permalink:"/docs/toolbox/uml.usecase"},next:{title:"Bibliography",permalink:"/docs/bibliography"}},k={},N=[{value:"Values as Objects",id:"values-as-objects",level:2},{value:"Identity",id:"identity",level:2},{value:"Equality",id:"equality",level:3},{value:"Immutability",id:"immutability",level:2},{value:"Sharing",id:"sharing",level:2},{value:"Example",id:"example",level:2},{value:"Money",id:"money",level:3}],g={toc:N},f="wrapper";function b(e){let{components:a,...t}=e;return(0,s.kt)(f,(0,n.Z)({},g,t,{components:a,mdxType:"MDXLayout"}),(0,s.kt)("h1",{id:"value-object-software-design"},"Value Object (Software Design)"),(0,s.kt)("p",null,"In ",(0,s.kt)("strong",{parentName:"p"},"Object-Oriented Programming"),", a ",(0,s.kt)("strong",{parentName:"p"},"Value Object")," is an abstraction of a value belonging to a particular domain."),(0,s.kt)("p",null,"A ",(0,s.kt)("strong",{parentName:"p"},"Value Object")," usually provides access to operations on the value given an OOP interface, or through operator overloading (e.g., concatenating strings with ",(0,s.kt)("inlineCode",{parentName:"p"},"+"),")."),(0,s.kt)("p",null,"A ",(0,s.kt)("strong",{parentName:"p"},"Value Object")," can represent a primitive datatype such as ",(0,s.kt)("inlineCode",{parentName:"p"},"integer"),", ",(0,s.kt)("inlineCode",{parentName:"p"},"float")," or ",(0,s.kt)("inlineCode",{parentName:"p"},"boolean")," as well as more complex data, where the ",(0,s.kt)("em",{parentName:"p"},"value")," of the particular ",(0,s.kt)("strong",{parentName:"p"},"Value Object")," is defined through more than one field (e.g., an ",(0,s.kt)("em",{parentName:"p"},"address"),")."),(0,s.kt)("admonition",{title:"Key aspects of a Value Object",type:"info"},(0,s.kt)("p",{parentName:"admonition"},"Fowler introduces the ",(0,s.kt)("strong",{parentName:"p"},"Value Object")," in ",(0,s.kt)(m.E,{name:"POEAA",pp:"486",mdxType:"BibRef"})," as an object ",(0,s.kt)("em",{parentName:"p"},'"whose equality isn\'t based on identity"'),".",(0,s.kt)("br",null),"\nIn ",(0,s.kt)(m.E,{name:"DDD",pp:"97",mdxType:"BibRef"}),", Evans refers to a ",(0,s.kt)("strong",{parentName:"p"},"Value Objects")," as an object that ",(0,s.kt)("em",{parentName:"p"},'"describe',"[s]",' some characteristic of a thing".'),(0,s.kt)("br",null),"\nWard Cunningham relates the ",(0,s.kt)("em",{parentName:"p"},"Whole Value (a.k.a. Value Object)")," to a concept that represents not a ",(0,s.kt)("em",{parentName:"p"},"thing"),", ",(0,s.kt)("a",{parentName:"p",href:"http://fit.c2.com/wiki.cgi?WholeValue"},(0,s.kt)("em",{parentName:"a"},'"but measures of things"')),"."),(0,s.kt)("p",{parentName:"admonition"},"All authors seem to agree on the statement that a ",(0,s.kt)("strong",{parentName:"p"},"Value Object")," is not a ",(0,s.kt)("em",{parentName:"p"},"thing, but measure of it"),", and lay foundation to key design aspects of a",(0,s.kt)("strong",{parentName:"p"},"Value Object")," with: ",(0,s.kt)("strong",{parentName:"p"},"Equality"),", ",(0,s.kt)("strong",{parentName:"p"},"Shareability"),", ",(0,s.kt)("strong",{parentName:"p"},"Immutability"),".")),(0,s.kt)("h2",{id:"values-as-objects"},"Values as Objects"),(0,s.kt)("p",null,"Treating values as objects is already fundamental to many programming languages, such as ",(0,s.kt)("strong",{parentName:"p"},"Java"),", where the class ",(0,s.kt)("a",{parentName:"p",href:"https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/lang/String.html"},"java.lang.String")," is implemented as an ",(0,s.kt)("strong",{parentName:"p"},"immutable Value Object"),":"),(0,s.kt)("blockquote",null,(0,s.kt)("p",{parentName:"blockquote"},(0,s.kt)("em",{parentName:"p"},'"The String class represents character strings. ',"[...]"," Strings are constant; their values cannot be changed after they are created. ","[...]",' Because String objects are immutable they can be shared."')," ",(0,s.kt)("a",{parentName:"p",href:"https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/lang/String.html"},"[java.lang.String]"))),(0,s.kt)("h2",{id:"identity"},"Identity"),(0,s.kt)("p",null,"When designing abstractions of ",(0,s.kt)("em",{parentName:"p"},"values"),", there is no need to consider the ",(0,s.kt)("strong",{parentName:"p"},"identity")," of a ",(0,s.kt)("em",{parentName:"p"},"value"),", whereas ",(0,s.kt)("strong",{parentName:"p"},"identity")," in this context refers to the abstraction of an identifier available with the high-level code, such as a field ",(0,s.kt)("inlineCode",{parentName:"p"},"id"),", containing an unique identifier. Such unique identifiers usually help with referring to objects that have a ",(0,s.kt)("em",{parentName:"p"},"lifecycle"),", allowing to track the state of these objects, and furthermore reconstitute it through various instances of a software system."),(0,s.kt)("p",null,(0,s.kt)("strong",{parentName:"p"},"Value Objects")," do not have such an identity, since their identity is of no interest to the client, as their inherent ",(0,s.kt)("em",{parentName:"p"},"value")," is solely used for ",(0,s.kt)("em",{parentName:"p"},"measurement")," or ",(0,s.kt)("em",{parentName:"p"},"description"),"."),(0,s.kt)("p",null,"A ",(0,s.kt)("em",{parentName:"p"},"money value")," may exist to ",(0,s.kt)("em",{parentName:"p"},"describe")," the financial worth of something. An ",(0,s.kt)("em",{parentName:"p"},"address value")," may exist to describe the residence of a person. If the person moves, the address of the person moves with this person. If the financial worth of a company changes, the value reflecting the worth gets updated. In both cases, these values do not have to be uniquely identifiable."),(0,s.kt)("admonition",{title:"Is Address a Value Object?",type:"tip"},(0,s.kt)("p",{parentName:"admonition"},"I provide a use case where ",(0,s.kt)("inlineCode",{parentName:"p"},"Address")," as ",(0,s.kt)("strong",{parentName:"p"},"Value Object")," is meaningful iin the given context. Also, Eric Evans shares the notion that it depends on ",(0,s.kt)("em",{parentName:"p"},'"who\'s asking"')," and reflects on several use cases in ",(0,s.kt)(m.E,{name:"DDD",pp:"98",mdxType:"BibRef"}),".")),(0,s.kt)("admonition",{title:"Picking an apple",type:"info"},(0,s.kt)("p",{parentName:"admonition"},"If I want to pick a green apple out of a set of green and red apples, I don't care about the identity of the apple, for as long as the apple can be ",(0,s.kt)("strong",{parentName:"p"},"described as ",(0,s.kt)("em",{parentName:"strong"},"green")),". If I put the apple away, I can always return later and pick another one from the set, preferably one that's green; I don't care if it turns out to be the same one or not.")),(0,s.kt)("h3",{id:"equality"},"Equality"),(0,s.kt)("p",null,"If ",(0,s.kt)("em",{parentName:"p"},"equality")," isn't based on identity, then ",(0,s.kt)("em",{parentName:"p"},"equality")," is determined based on one or more attributes between objects."),(0,s.kt)("p",null,"In Java, comparing for the equality of ",(0,s.kt)("inlineCode",{parentName:"p"},"Strings")," is done using the ",(0,s.kt)("a",{parentName:"p",href:"#equals"},(0,s.kt)("inlineCode",{parentName:"a"},"equals")),"-method:"),(0,s.kt)("pre",null,(0,s.kt)("code",{parentName:"pre",className:"language-java"},'String name = new String("Peter");\nString firstname = new String("Peter");\n\n// name == firstname -> false\n// name.equals(firstname) -> true\n\n')),(0,s.kt)("p",null,"Here, ",(0,s.kt)("inlineCode",{parentName:"p"},"name")," and ",(0,s.kt)("inlineCode",{parentName:"p"},"firstname")," are ",(0,s.kt)("em",{parentName:"p"},"equal"),", but not ",(0,s.kt)("em",{parentName:"p"},"identical"),". When we speak of ",(0,s.kt)("em",{parentName:"p"},"identical")," in this context, we refer to the low-level identity of two variables referencing the same memory-address where an object is stored."),(0,s.kt)("admonition",{title:"equals() in Java",type:"info"},(0,s.kt)("p",{parentName:"admonition"},"In ",(0,s.kt)("strong",{parentName:"p"},"Java"),", ",(0,s.kt)("inlineCode",{parentName:"p"},"java.lang.Object")," provides a method for implementing equivalence relations on references:"),(0,s.kt)("pre",{parentName:"admonition"},(0,s.kt)("code",{parentName:"pre",className:"language-java"},"public boolean equals(Object obj);\n")),(0,s.kt)("p",{parentName:"admonition"},"Specifics of ",(0,s.kt)("inlineCode",{parentName:"p"},"java.lang.Object")," can implement ",(0,s.kt)("inlineCode",{parentName:"p"},"equals")," to consider attribute-values (",(0,s.kt)("em",{parentName:"p"},"equality based on values"),") and\nreferences when testing for equality. ",(0,s.kt)("a",{parentName:"p",href:"https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/lang/Object.html#equals(java.lang.Object)"},"[Java Docs]"))),(0,s.kt)("p",null,(0,s.kt)("strong",{parentName:"p"},"Value Objects")," are used in cases where the identity of objects is not important, but their ",(0,s.kt)("em",{parentName:"p"},"equality"),". In the given example, the value of the ",(0,s.kt)("inlineCode",{parentName:"p"},"String"),"-objects are of interest when comparing them for equality, but not their identity."),(0,s.kt)("p",null,"The identity and the equality of ",(0,s.kt)("strong",{parentName:"p"},"Value Objects")," are based on the values of their attributes, conversely to an ",(0,s.kt)(m.A,{name:"Entity",file:"sd.entity",mdxType:"GlosRef"}),", which can be treated ",(0,s.kt)("em",{parentName:"p"},"non-equal")," even if attributes are the same for other ",(0,s.kt)("strong",{parentName:"p"},"Entities"),". This is often realized through some kind of ",(0,s.kt)("em",{parentName:"p"},"identifier"),": If two ",(0,s.kt)("strong",{parentName:"p"},"Entities")," both share the same value ",(0,s.kt)("inlineCode",{parentName:"p"},'name="Peter Parker"'),", but do not share the same value for their unique identifier, then these ",(0,s.kt)("strong",{parentName:"p"},"Entities")," should not be considered equal."),(0,s.kt)("p",null,"In the following example, a system requires a model of an ",(0,s.kt)("inlineCode",{parentName:"p"},"Employee"),". Clearly, the identity of ",(0,s.kt)("inlineCode",{parentName:"p"},"Employee")," cannot be based\non the Employee's name, since the same name may occur multiple times in a system. The model needs an unique ",(0,s.kt)("inlineCode",{parentName:"p"},"id"),", so\n",(0,s.kt)("inlineCode",{parentName:"p"},"Employee"),"s can be distinguished in a system. Then, the equality is based on ",(0,s.kt)("inlineCode",{parentName:"p"},"identity"),": An object is only equal to another object\nif it shares the same reference or if the ",(0,s.kt)("inlineCode",{parentName:"p"},"id")," is the same, which can only exist one at a time in a system."),(0,s.kt)("pre",null,(0,s.kt)("code",{parentName:"pre",className:"language-php"},'\nclass Employee\n{\n    private string $name;\n    private int $id;\n    public function __construct(int $id, string $name)\n    {\n        $this->id = $id;\n        $this->name = $name;\n    }\n}\n\n$personOne = new Employee(1, "Parker");\n$personTwo = new Employee(2, "Parker");\n')),(0,s.kt)("p",null,'The system can now reconcile necessary processes with the Person-Data: If "Parker" is about to be transferred to another department, it is important to identify the right "Parker", so the wrong one does not end up in a position he wasn\'t qualified for in the first place.'),(0,s.kt)("p",null,(0,s.kt)("strong",{parentName:"p"},"Value Objects")," are next to ",(0,s.kt)(m.A,{name:"Entities",file:"sd.entity",mdxType:"GlosRef"})," building blocks of ",(0,s.kt)(m.A,{name:"Aggregates in DDD",file:"ddd.aggregate",mdxType:"GlosRef"}),". They are often designed as ",(0,s.kt)("strong",{parentName:"p"},"immutable objects"),"."),(0,s.kt)("h2",{id:"immutability"},"Immutability"),(0,s.kt)("p",null,"I follow the notion that ",(0,s.kt)("strong",{parentName:"p"},"Value Objects")," should be ",(0,s.kt)("a",{parentName:"p",href:"https://wiki.c2.com/?ValueObjectsShouldBeImmutable"},"immutable"),"."),(0,s.kt)(o.cx,{figure:1,title:"Does adding 24 to 5776 change 5776 to 5800?",mdxType:"Embed"},(0,s.kt)("img",{src:p})),(0,s.kt)("p",null,"If ",(0,s.kt)("span",{parentName:"p",className:"math math-inline"},(0,s.kt)("span",{parentName:"span",className:"katex"},(0,s.kt)("span",{parentName:"span",className:"katex-mathml"},(0,s.kt)("math",{parentName:"span",xmlns:"http://www.w3.org/1998/Math/MathML"},(0,s.kt)("semantics",{parentName:"math"},(0,s.kt)("mrow",{parentName:"semantics"},(0,s.kt)("mn",{parentName:"mrow"},"24"),(0,s.kt)("mo",{parentName:"mrow"},"\u2208"),(0,s.kt)("mi",{parentName:"mrow",mathvariant:"double-struck"},"N")),(0,s.kt)("annotation",{parentName:"semantics",encoding:"application/x-tex"},"24 \\in \\N")))),(0,s.kt)("span",{parentName:"span",className:"katex-html","aria-hidden":"true"},(0,s.kt)("span",{parentName:"span",className:"base"},(0,s.kt)("span",{parentName:"span",className:"strut",style:{height:"0.6835em",verticalAlign:"-0.0391em"}}),(0,s.kt)("span",{parentName:"span",className:"mord"},"24"),(0,s.kt)("span",{parentName:"span",className:"mspace",style:{marginRight:"0.2778em"}}),(0,s.kt)("span",{parentName:"span",className:"mrel"},"\u2208"),(0,s.kt)("span",{parentName:"span",className:"mspace",style:{marginRight:"0.2778em"}})),(0,s.kt)("span",{parentName:"span",className:"base"},(0,s.kt)("span",{parentName:"span",className:"strut",style:{height:"0.6889em"}}),(0,s.kt)("span",{parentName:"span",className:"mord mathbb"},"N")))))," is added to ",(0,s.kt)("span",{parentName:"p",className:"math math-inline"},(0,s.kt)("span",{parentName:"span",className:"katex"},(0,s.kt)("span",{parentName:"span",className:"katex-mathml"},(0,s.kt)("math",{parentName:"span",xmlns:"http://www.w3.org/1998/Math/MathML"},(0,s.kt)("semantics",{parentName:"math"},(0,s.kt)("mrow",{parentName:"semantics"},(0,s.kt)("mn",{parentName:"mrow"},"5776"),(0,s.kt)("mo",{parentName:"mrow"},"\u2208"),(0,s.kt)("mi",{parentName:"mrow",mathvariant:"double-struck"},"N")),(0,s.kt)("annotation",{parentName:"semantics",encoding:"application/x-tex"},"5776 \\in \\N")))),(0,s.kt)("span",{parentName:"span",className:"katex-html","aria-hidden":"true"},(0,s.kt)("span",{parentName:"span",className:"base"},(0,s.kt)("span",{parentName:"span",className:"strut",style:{height:"0.6835em",verticalAlign:"-0.0391em"}}),(0,s.kt)("span",{parentName:"span",className:"mord"},"5776"),(0,s.kt)("span",{parentName:"span",className:"mspace",style:{marginRight:"0.2778em"}}),(0,s.kt)("span",{parentName:"span",className:"mrel"},"\u2208"),(0,s.kt)("span",{parentName:"span",className:"mspace",style:{marginRight:"0.2778em"}})),(0,s.kt)("span",{parentName:"span",className:"base"},(0,s.kt)("span",{parentName:"span",className:"strut",style:{height:"0.6889em"}}),(0,s.kt)("span",{parentName:"span",className:"mord mathbb"},"N"))))),", the number ",(0,s.kt)("span",{parentName:"p",className:"math math-inline"},(0,s.kt)("span",{parentName:"span",className:"katex"},(0,s.kt)("span",{parentName:"span",className:"katex-mathml"},(0,s.kt)("math",{parentName:"span",xmlns:"http://www.w3.org/1998/Math/MathML"},(0,s.kt)("semantics",{parentName:"math"},(0,s.kt)("mrow",{parentName:"semantics"},(0,s.kt)("mn",{parentName:"mrow"},"5776")),(0,s.kt)("annotation",{parentName:"semantics",encoding:"application/x-tex"},"5776")))),(0,s.kt)("span",{parentName:"span",className:"katex-html","aria-hidden":"true"},(0,s.kt)("span",{parentName:"span",className:"base"},(0,s.kt)("span",{parentName:"span",className:"strut",style:{height:"0.6444em"}}),(0,s.kt)("span",{parentName:"span",className:"mord"},"5776")))))," still exists as an element in ",(0,s.kt)("span",{parentName:"p",className:"math math-inline"},(0,s.kt)("span",{parentName:"span",className:"katex"},(0,s.kt)("span",{parentName:"span",className:"katex-mathml"},(0,s.kt)("math",{parentName:"span",xmlns:"http://www.w3.org/1998/Math/MathML"},(0,s.kt)("semantics",{parentName:"math"},(0,s.kt)("mrow",{parentName:"semantics"},(0,s.kt)("mi",{parentName:"mrow",mathvariant:"double-struck"},"N")),(0,s.kt)("annotation",{parentName:"semantics",encoding:"application/x-tex"},"\\N")))),(0,s.kt)("span",{parentName:"span",className:"katex-html","aria-hidden":"true"},(0,s.kt)("span",{parentName:"span",className:"base"},(0,s.kt)("span",{parentName:"span",className:"strut",style:{height:"0.6889em"}}),(0,s.kt)("span",{parentName:"span",className:"mord mathbb"},"N"))))),": It does not get accidentally changed to ",(0,s.kt)("span",{parentName:"p",className:"math math-inline"},(0,s.kt)("span",{parentName:"span",className:"katex"},(0,s.kt)("span",{parentName:"span",className:"katex-mathml"},(0,s.kt)("math",{parentName:"span",xmlns:"http://www.w3.org/1998/Math/MathML"},(0,s.kt)("semantics",{parentName:"math"},(0,s.kt)("mrow",{parentName:"semantics"},(0,s.kt)("mn",{parentName:"mrow"},"5800")),(0,s.kt)("annotation",{parentName:"semantics",encoding:"application/x-tex"},"5800")))),(0,s.kt)("span",{parentName:"span",className:"katex-html","aria-hidden":"true"},(0,s.kt)("span",{parentName:"span",className:"base"},(0,s.kt)("span",{parentName:"span",className:"strut",style:{height:"0.6444em"}}),(0,s.kt)("span",{parentName:"span",className:"mord"},"5800"))))),", because if that would be the case, anything that previously referred to ",(0,s.kt)("span",{parentName:"p",className:"math math-inline"},(0,s.kt)("span",{parentName:"span",className:"katex"},(0,s.kt)("span",{parentName:"span",className:"katex-mathml"},(0,s.kt)("math",{parentName:"span",xmlns:"http://www.w3.org/1998/Math/MathML"},(0,s.kt)("semantics",{parentName:"math"},(0,s.kt)("mrow",{parentName:"semantics"},(0,s.kt)("mn",{parentName:"mrow"},"5776")),(0,s.kt)("annotation",{parentName:"semantics",encoding:"application/x-tex"},"5776")))),(0,s.kt)("span",{parentName:"span",className:"katex-html","aria-hidden":"true"},(0,s.kt)("span",{parentName:"span",className:"base"},(0,s.kt)("span",{parentName:"span",className:"strut",style:{height:"0.6444em"}}),(0,s.kt)("span",{parentName:"span",className:"mord"},"5776")))))," would now ",(0,s.kt)("a",{parentName:"p",href:"#one-integer"},"unintentionally refer to ",(0,s.kt)("span",{parentName:"a",className:"math math-inline"},(0,s.kt)("span",{parentName:"span",className:"katex"},(0,s.kt)("span",{parentName:"span",className:"katex-mathml"},(0,s.kt)("math",{parentName:"span",xmlns:"http://www.w3.org/1998/Math/MathML"},(0,s.kt)("semantics",{parentName:"math"},(0,s.kt)("mrow",{parentName:"semantics"},(0,s.kt)("mn",{parentName:"mrow"},"5800")),(0,s.kt)("annotation",{parentName:"semantics",encoding:"application/x-tex"},"5800")))),(0,s.kt)("span",{parentName:"span",className:"katex-html","aria-hidden":"true"},(0,s.kt)("span",{parentName:"span",className:"base"},(0,s.kt)("span",{parentName:"span",className:"strut",style:{height:"0.6444em"}}),(0,s.kt)("span",{parentName:"span",className:"mord"},"5800"))))))," (also, we might run out of numbers in the not so near future). Instead, adding one value to another one yields a new value, reflecting the sum of both values - in this case ",(0,s.kt)("span",{parentName:"p",className:"math math-inline"},(0,s.kt)("span",{parentName:"span",className:"katex"},(0,s.kt)("span",{parentName:"span",className:"katex-mathml"},(0,s.kt)("math",{parentName:"span",xmlns:"http://www.w3.org/1998/Math/MathML"},(0,s.kt)("semantics",{parentName:"math"},(0,s.kt)("mrow",{parentName:"semantics"},(0,s.kt)("mn",{parentName:"mrow"},"5800"),(0,s.kt)("mo",{parentName:"mrow"},"\u2208"),(0,s.kt)("mi",{parentName:"mrow",mathvariant:"double-struck"},"N")),(0,s.kt)("annotation",{parentName:"semantics",encoding:"application/x-tex"},"5800 \\in \\N")))),(0,s.kt)("span",{parentName:"span",className:"katex-html","aria-hidden":"true"},(0,s.kt)("span",{parentName:"span",className:"base"},(0,s.kt)("span",{parentName:"span",className:"strut",style:{height:"0.6835em",verticalAlign:"-0.0391em"}}),(0,s.kt)("span",{parentName:"span",className:"mord"},"5800"),(0,s.kt)("span",{parentName:"span",className:"mspace",style:{marginRight:"0.2778em"}}),(0,s.kt)("span",{parentName:"span",className:"mrel"},"\u2208"),(0,s.kt)("span",{parentName:"span",className:"mspace",style:{marginRight:"0.2778em"}})),(0,s.kt)("span",{parentName:"span",className:"base"},(0,s.kt)("span",{parentName:"span",className:"strut",style:{height:"0.6889em"}}),(0,s.kt)("span",{parentName:"span",className:"mord mathbb"},"N"))))),"."),(0,s.kt)(o.cx,{figure:1,title:"5776 is an element in N. Adding a new value to it does not change 5776, but instead returns a new value, 5800",mdxType:"Embed"},(0,s.kt)("img",{src:c})),(0,s.kt)("pre",null,(0,s.kt)("code",{parentName:"pre",className:"language-javascript",metastring:'title="A (simplified) Value Object for Integer"',title:'"A',"(simplified)":!0,Value:!0,Object:!0,for:!0,'Integer"':!0},"class IntegerValue {\n\n    static from (value) {\n        return new IntegerValue(value);\n    }\n\n    constructor(value) {\n        this.v = value;\n    }\n\n    value () {\n        return this.v;\n    }\n\n    add (integerValue) {\n        return IntegerValue.from(this.value() + integerValue.value());\n    }\n\n}\n\nconst i24   = IntegerValue.from(24);\nconst i5776 = IntegerValue.from(5776);\nconst i5800 = i5776.add(i24);\n\nconsole.log(i5800.value());\n")),(0,s.kt)("admonition",{type:"info"},(0,s.kt)("mdxAdmonitionTitle",{parentName:"admonition"},"The One-",(0,s.kt)("span",{parentName:"mdxAdmonitionTitle",className:"math math-inline"},(0,s.kt)("span",{parentName:"span",className:"katex"},(0,s.kt)("span",{parentName:"span",className:"katex-mathml"},(0,s.kt)("math",{parentName:"span",xmlns:"http://www.w3.org/1998/Math/MathML"},(0,s.kt)("semantics",{parentName:"math"},(0,s.kt)("mrow",{parentName:"semantics"},(0,s.kt)("mi",{parentName:"mrow"},"n"),(0,s.kt)("mo",{parentName:"mrow"},"\u2208"),(0,s.kt)("mi",{parentName:"mrow",mathvariant:"double-struck"},"N")),(0,s.kt)("annotation",{parentName:"semantics",encoding:"application/x-tex"},"n \\in \\N")))),(0,s.kt)("span",{parentName:"span",className:"katex-html","aria-hidden":"true"},(0,s.kt)("span",{parentName:"span",className:"base"},(0,s.kt)("span",{parentName:"span",className:"strut",style:{height:"0.5782em",verticalAlign:"-0.0391em"}}),(0,s.kt)("span",{parentName:"span",className:"mord mathnormal"},"n"),(0,s.kt)("span",{parentName:"span",className:"mspace",style:{marginRight:"0.2778em"}}),(0,s.kt)("span",{parentName:"span",className:"mrel"},"\u2208"),(0,s.kt)("span",{parentName:"span",className:"mspace",style:{marginRight:"0.2778em"}})),(0,s.kt)("span",{parentName:"span",className:"base"},(0,s.kt)("span",{parentName:"span",className:"strut",style:{height:"0.6889em"}}),(0,s.kt)("span",{parentName:"span",className:"mord mathbb"},"N")))))," Universe ",(0,s.kt)("a",{name:"one-integer"})),(0,s.kt)("p",{parentName:"admonition"},(0,s.kt)("em",{parentName:"p"},'"Feynman, I know why all electrons have the same charge and the same mass" "Why?" "Because, they are all the same electron!"')," ",(0,s.kt)("a",{parentName:"p",href:"https://www.nobelprize.org/prizes/physics/1965/feynman/lecture/"},'["The Development of the Space-Time View of Quantum Electrodynamics"]')),(0,s.kt)("p",{parentName:"admonition"},"Based on the postulate of the ",(0,s.kt)("a",{parentName:"p",href:"https://en.wikipedia.org/wiki/One-electron_universe"},(0,s.kt)("strong",{parentName:"a"},"One-Electron Universe")),", we can also postulate that all ",(0,s.kt)("span",{parentName:"p",className:"math math-inline"},(0,s.kt)("span",{parentName:"span",className:"katex"},(0,s.kt)("span",{parentName:"span",className:"katex-mathml"},(0,s.kt)("math",{parentName:"span",xmlns:"http://www.w3.org/1998/Math/MathML"},(0,s.kt)("semantics",{parentName:"math"},(0,s.kt)("mrow",{parentName:"semantics"},(0,s.kt)("mi",{parentName:"mrow"},"x"),(0,s.kt)("mo",{parentName:"mrow"},"\u2208"),(0,s.kt)("mi",{parentName:"mrow",mathvariant:"double-struck"},"N")),(0,s.kt)("annotation",{parentName:"semantics",encoding:"application/x-tex"},"x \\in \\N")))),(0,s.kt)("span",{parentName:"span",className:"katex-html","aria-hidden":"true"},(0,s.kt)("span",{parentName:"span",className:"base"},(0,s.kt)("span",{parentName:"span",className:"strut",style:{height:"0.5782em",verticalAlign:"-0.0391em"}}),(0,s.kt)("span",{parentName:"span",className:"mord mathnormal"},"x"),(0,s.kt)("span",{parentName:"span",className:"mspace",style:{marginRight:"0.2778em"}}),(0,s.kt)("span",{parentName:"span",className:"mrel"},"\u2208"),(0,s.kt)("span",{parentName:"span",className:"mspace",style:{marginRight:"0.2778em"}})),(0,s.kt)("span",{parentName:"span",className:"base"},(0,s.kt)("span",{parentName:"span",className:"strut",style:{height:"0.6889em"}}),(0,s.kt)("span",{parentName:"span",className:"mord mathbb"},"N")))))," are manifestations of one and the same ",(0,s.kt)("span",{parentName:"p",className:"math math-inline"},(0,s.kt)("span",{parentName:"span",className:"katex"},(0,s.kt)("span",{parentName:"span",className:"katex-mathml"},(0,s.kt)("math",{parentName:"span",xmlns:"http://www.w3.org/1998/Math/MathML"},(0,s.kt)("semantics",{parentName:"math"},(0,s.kt)("mrow",{parentName:"semantics"},(0,s.kt)("mi",{parentName:"mrow"},"n"),(0,s.kt)("mo",{parentName:"mrow"},"\u2208"),(0,s.kt)("mi",{parentName:"mrow",mathvariant:"double-struck"},"N")),(0,s.kt)("annotation",{parentName:"semantics",encoding:"application/x-tex"},"n \\in \\N")))),(0,s.kt)("span",{parentName:"span",className:"katex-html","aria-hidden":"true"},(0,s.kt)("span",{parentName:"span",className:"base"},(0,s.kt)("span",{parentName:"span",className:"strut",style:{height:"0.5782em",verticalAlign:"-0.0391em"}}),(0,s.kt)("span",{parentName:"span",className:"mord mathnormal"},"n"),(0,s.kt)("span",{parentName:"span",className:"mspace",style:{marginRight:"0.2778em"}}),(0,s.kt)("span",{parentName:"span",className:"mrel"},"\u2208"),(0,s.kt)("span",{parentName:"span",className:"mspace",style:{marginRight:"0.2778em"}})),(0,s.kt)("span",{parentName:"span",className:"base"},(0,s.kt)("span",{parentName:"span",className:"strut",style:{height:"0.6889em"}}),(0,s.kt)("span",{parentName:"span",className:"mord mathbb"},"N")))))," travelling forth and back in time. We'd just have a hard time to provide an accurate implementation of this model in software.")),(0,s.kt)("h2",{id:"sharing"},"Sharing"),(0,s.kt)("p",null,(0,s.kt)("strong",{parentName:"p"},"Value Objects")," can easily be used as shared instances for a number of referencing objects.\nIf implemented as ",(0,s.kt)("strong",{parentName:"p"},"immutable")," and the value of an object-defining attribute needs to change, the targeted instance gets replaced with a new instance, containing the updated state of the attribute(s).\nThis makes sure that a change to one ",(0,s.kt)("strong",{parentName:"p"},"Value Object")," does not affect all objects referencing this particular ",(0,s.kt)("strong",{parentName:"p"},"Value Object"),"."),(0,s.kt)("admonition",{title:"Aliasing Bugs",type:"tip"},(0,s.kt)("p",{parentName:"admonition"},"If ",(0,s.kt)("em",{parentName:"p"},(0,s.kt)("strong",{parentName:"em"},"mutable"))," ",(0,s.kt)("strong",{parentName:"p"},"Value Objects")," are ",(0,s.kt)("a",{parentName:"p",href:"#shareability"},"shared"),", ",(0,s.kt)(m.A,{name:"Aliasing Bugs",file:"computerscience.aliasing#aliasing-bug",mdxType:"GlosRef"})," are likely to happen. Making them ",(0,s.kt)("strong",{parentName:"p"},"immutable")," prevents these kind of errors.")),(0,s.kt)("h2",{id:"example"},"Example"),(0,s.kt)("h3",{id:"money"},"Money"),(0,s.kt)("p",null,"In most of our computer programs we do not care about the identity of ",(0,s.kt)("em",{parentName:"p"},"Money"),", but the value representing its ",(0,s.kt)("em",{parentName:"p"},"amount"),"."),(0,s.kt)("p",null,"The following example implements a ",(0,s.kt)("inlineCode",{parentName:"p"},"Money"),"-class (see ",(0,s.kt)(m.E,{name:"POEAA",pp:"488-495",mdxType:"BibRef"})," for a more elaborate example of the design for ",(0,s.kt)("inlineCode",{parentName:"p"},"Money"),"). As an immutable ",(0,s.kt)("strong",{parentName:"p"},"Value Object"),", we can not change its ",(0,s.kt)("inlineCode",{parentName:"p"},"value")," directly. Instead, a new instance of ",(0,s.kt)("inlineCode",{parentName:"p"},"Money")," is returned each time we ",(0,s.kt)("inlineCode",{parentName:"p"},"add()")," an amount to an instance, preventing ",(0,s.kt)(m.A,{name:"Aliasing Bugs",file:"cs.aliasing#aliasing-bug",mdxType:"GlosRef"}),"."),(0,s.kt)("p",null,"In ",(0,s.kt)("inlineCode",{parentName:"p"},"Account.py"),", each ",(0,s.kt)("inlineCode",{parentName:"p"},"Employee")," has initially the same ",(0,s.kt)("em",{parentName:"p"},"salary"),". This ",(0,s.kt)("em",{parentName:"p"},"salary")," is a shared instance of ",(0,s.kt)("inlineCode",{parentName:"p"},"Money"),". If ",(0,s.kt)("inlineCode",{parentName:"p"},"Money"),"gets added to an ",(0,s.kt)("inlineCode",{parentName:"p"},"Employee"),"'s ",(0,s.kt)("inlineCode",{parentName:"p"},"Account"),", a new instance of ",(0,s.kt)("inlineCode",{parentName:"p"},"Money")," is created for the ",(0,s.kt)("inlineCode",{parentName:"p"},"Account"),"-instance."),(0,s.kt)("p",null,"Changing the value of ",(0,s.kt)("em",{parentName:"p"},"salary")," does not affect the ",(0,s.kt)("inlineCode",{parentName:"p"},"Accounts")," initialized with this ",(0,s.kt)("em",{parentName:"p"},"salary"),"."),(0,s.kt)(i.Z,{mdxType:"Tabs"},(0,s.kt)(l.Z,{value:"Money.py",label:"Money.py",mdxType:"TabItem"},(0,s.kt)("pre",null,(0,s.kt)("code",{parentName:"pre",className:"language-python"},"    class Money:\n        def __init__(self, value = 0):\n            self.value = value\n\n        def getValue(self):\n            return self.value;\n\n        def add(self, money: Self) -> Self:\n            return Money(self.value + money.getValue())\n"))),(0,s.kt)(l.Z,{value:"TestMoney.py",label:"TestMoney.py",mdxType:"TabItem"},(0,s.kt)("pre",null,(0,s.kt)("code",{parentName:"pre",className:"language-python"},"    import unittest\n\n    class TestMoney(unittest.TestCase):\n\n        def test_value(self):\n            noMoney = Money();\n            self.assertEqual(0, noMoney.getValue());\n            oneDollar = Money(1);\n            self.assertEqual(1, oneDollar.getValue());\n\n        def test_add(self):\n            oneDollar = Money(1);\n            twoDollar = oneDollar.add(oneDollar);\n            self.assertEqual(2, twoDollar.getValue())\n            self.assertEqual(1, oneDollar.getValue())\n            self.assertNotEqual(oneDollar, twoDollar)\n"))),(0,s.kt)(l.Z,{value:"Account.py",label:"Account.py",mdxType:"TabItem"},(0,s.kt)("pre",null,(0,s.kt)("code",{parentName:"pre",className:"language-python"},"class Account:\n    def __init__(self, money: Money):\n        self.money = money\n\n    def add(self, money: Money) -> Money:\n        self.money = self.money.add(money)\n        return self.money;\n\nsalary = Money(500);\n\nemployeeAccount = Account(salary);\nnewEmployeeAccount = Account(salary);\n\nemployeeAccount.add(Money(100));\nnewEmployeeAccount.add(Money(100));\n")))),(0,s.kt)(r.x,{mdxType:"BackButton"}),(0,s.kt)("hr",null),(0,s.kt)("p",null," see also"),(0,s.kt)("ul",null,(0,s.kt)("li",{parentName:"ul"},(0,s.kt)("a",{parentName:"li",href:"https://wiki.c2.com/?ValueObject"},"wiki.c2.com, Value Object")),(0,s.kt)("li",{parentName:"ul"},(0,s.kt)("a",{parentName:"li",href:"http://fit.c2.com/wiki.cgi?WholeValue"},"Ward Cunningham, Whole Value")),(0,s.kt)("li",{parentName:"ul"},(0,s.kt)("a",{parentName:"li",href:"https://www.riehle.org/computer-science/research/1998/ubilab-tr-1998-10-1.pdf"},"Riehle et al., Values in Object Systems"))))}b.isMDXComponent=!0},2480:()=>{}}]);